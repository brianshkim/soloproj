{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @name react-jinke-music-player\n * @description Maybe the best beautiful HTML5 responsive player component for react :)\n * @author Jinke.Li <1359518268@qq.com>\n * @license MIT\n */\n\n\nimport cls from 'classnames';\nimport download from 'downloadjs';\nimport getIsMobile from 'is-mobile';\nimport Slider from 'rc-slider/lib/Slider';\nimport Switch from 'rc-switch';\nimport React, { cloneElement, createRef, PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport Draggable from 'react-draggable';\nimport Sortable, { Swap } from 'sortablejs';\nimport AudioListsPanel from './components/AudioListsPanel';\nimport CircleProcessBar from './components/CircleProcessBar';\nimport { AnimatePauseIcon, AnimatePlayIcon, ArrowDownIcon, CloseIcon, DeleteIcon, DownloadIcon, EmptyIcon, FaMinusSquareOIcon, LoadIcon, LoopIcon, LyricIcon, NextAudioIcon, OrderPlayIcon, PlayListsIcon, PrevAudioIcon, ReloadIcon, RepeatIcon, ShufflePlayIcon, VolumeMuteIcon, VolumeUnmuteIcon } from './components/Icon';\nimport AudioPlayerMobile from './components/PlayerMobile';\nimport PlayModel from './components/PlayModel';\nimport { AUDIO_LIST_REMOVE_ANIMATE_TIME } from './config/animate';\nimport { SPACE_BAR_KEYCODE } from './config/keycode';\nimport LOCALE from './config/locale';\nimport { MEDIA_QUERY } from './config/mediaQuery';\nimport { MODE } from './config/mode';\nimport { AUDIO_NETWORK_STATE, AUDIO_READY_STATE } from './config/audioState';\nimport PLAY_MODE from './config/playMode';\nimport PROP_TYPES from './config/propTypes';\nimport { PROGRESS_BAR_SLIDER_OPTIONS, VOLUME_BAR_SLIDER_OPTIONS } from './config/slider';\nimport { THEME } from './config/theme';\nimport { VOLUME_FADE } from './config/volumeFade';\nimport { DEFAULT_PLAY_INDEX, DEFAULT_VOLUME, DEFAULT_REMOVE_ID, PLAYER_KEY } from './config/player';\nimport SORTABLE_CONFIG from './config/sortable';\nimport LOCALE_CONFIG from './locale';\nimport Lyric from './lyric';\nimport { adjustVolume, arrayEqual, createRandomNum, formatTime, isSafari, uuId } from './utils';\nSortable.mount(new Swap());\nvar IS_MOBILE = getIsMobile();\nvar DEFAULT_ICON = {\n  pause: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n  play: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n  destroy: /*#__PURE__*/React.createElement(CloseIcon, null),\n  close: /*#__PURE__*/React.createElement(CloseIcon, null),\n  \"delete\": /*#__PURE__*/React.createElement(DeleteIcon, {\n    size: 24\n  }),\n  download: /*#__PURE__*/React.createElement(DownloadIcon, {\n    size: 26\n  }),\n  toggle: /*#__PURE__*/React.createElement(FaMinusSquareOIcon, null),\n  lyric: /*#__PURE__*/React.createElement(LyricIcon, null),\n  volume: /*#__PURE__*/React.createElement(VolumeUnmuteIcon, {\n    size: 26\n  }),\n  mute: /*#__PURE__*/React.createElement(VolumeMuteIcon, {\n    size: 26\n  }),\n  next: /*#__PURE__*/React.createElement(NextAudioIcon, null),\n  prev: /*#__PURE__*/React.createElement(PrevAudioIcon, null),\n  playLists: /*#__PURE__*/React.createElement(PlayListsIcon, null),\n  reload: /*#__PURE__*/React.createElement(ReloadIcon, {\n    size: 22\n  }),\n  loop: /*#__PURE__*/React.createElement(LoopIcon, {\n    size: 26\n  }),\n  order: /*#__PURE__*/React.createElement(OrderPlayIcon, {\n    size: 26\n  }),\n  orderLoop: /*#__PURE__*/React.createElement(RepeatIcon, {\n    size: 26\n  }),\n  shuffle: /*#__PURE__*/React.createElement(ShufflePlayIcon, {\n    size: 26\n  }),\n  loading: /*#__PURE__*/React.createElement(LoadIcon, null),\n  packUpPanelMobile: /*#__PURE__*/React.createElement(ArrowDownIcon, {\n    size: 26\n  }),\n  empty: /*#__PURE__*/React.createElement(EmptyIcon, null)\n};\n\nvar ReactJkMusicPlayer = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactJkMusicPlayer, _PureComponent);\n\n  var _super = _createSuper(ReactJkMusicPlayer);\n\n  function ReactJkMusicPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactJkMusicPlayer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      audioLists: [],\n      playId: _this.initPlayId,\n      // 播放id\n      name: '',\n      // 当前歌曲名\n      cover: '',\n      // 当前歌曲封面\n      singer: '',\n      // 当前歌手\n      musicSrc: '',\n      // 当前歌曲链\n      lyric: '',\n      // 当前歌词\n      currentLyric: '',\n      isMobile: IS_MOBILE,\n      toggle: _this.props.mode === MODE.FULL,\n      playing: false,\n      currentTime: 0,\n      soundValue: DEFAULT_VOLUME,\n      moveX: 0,\n      moveY: 0,\n      loading: false,\n      audioListsPanelVisible: false,\n      playModelNameVisible: false,\n      theme: _this.props.theme || _this.darkThemeName,\n      playMode: _this.props.playMode || _this.props.defaultPlayMode || '',\n      // 当前播放模式\n      currentAudioVolume: 0,\n      // 当前音量  静音后恢复到之前记录的音量\n      initAnimate: false,\n      isInitAutoPlay: _this.props.autoPlay,\n      isInitRemember: false,\n      loadedProgress: 0,\n      removeId: DEFAULT_REMOVE_ID,\n      isNeedMobileHack: IS_MOBILE,\n      audioLyricVisible: false,\n      isAutoPlayWhenUserClicked: false,\n      playIndex: _this.props.playIndex || _this.props.defaultPlayIndex || DEFAULT_PLAY_INDEX,\n      canPlay: false,\n      currentVolumeFade: VOLUME_FADE.NONE,\n      currentVolumeFadeInterval: undefined,\n      updateIntervalEndVolume: undefined,\n      isAudioSeeking: false,\n      isResetCoverRotate: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayIndex\", function () {\n      var playIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.playIndex;\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.audioLists;\n      return Math.max(DEFAULT_PLAY_INDEX, Math.min(audioLists.length - 1, playIndex));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCoverClick\", function () {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MODE.FULL;\n      var showMiniModeCover = _this.props.showMiniModeCover;\n      var cover = _this.state.cover;\n\n      if (!showMiniModeCover && mode === MODE.MINI) {\n        return;\n      }\n\n      if (_this.props.onCoverClick && cover) {\n        _this.props.onCoverClick(mode, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAudioTitle\", function () {\n      var _ref = _this.locale || {},\n          audioTitle = _ref.audioTitle;\n\n      var _this$state = _this.state,\n          name = _this$state.name,\n          singer = _this$state.singer;\n\n      if (typeof audioTitle === 'function' && _this.audio) {\n        return audioTitle(_this.getBaseAudioInfo());\n      }\n\n      return audioTitle || \"\".concat(name).concat(singer ? \" - \".concat(singer) : '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderAudioTitle\", function () {\n      var _this$state2 = _this.state,\n          isMobile = _this$state2.isMobile,\n          name = _this$state2.name;\n\n      if (_this.props.renderAudioTitle) {\n        return _this.props.renderAudioTitle(_this.getBaseAudioInfo(), isMobile);\n      }\n\n      return isMobile ? name : _this.getAudioTitle();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", function () {\n      _this.setState({\n        audioLyricVisible: !_this.state.audioLyricVisible\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", function () {\n      var index = _this._PLAY_MODE_.findIndex(function (mode) {\n        return mode === _this.state.playMode;\n      });\n\n      var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0] : _this._PLAY_MODE_[++index];\n\n      _this.setState({\n        playMode: playMode,\n        playModelNameVisible: true,\n        playModeTipVisible: true\n      });\n\n      _this.props.onPlayModeChange && _this.props.onPlayModeChange(playMode);\n      clearTimeout(_this.playModelTimer);\n      _this.playModelTimer = setTimeout(function () {\n        _this.setState({\n          playModelNameVisible: false,\n          playModeTipVisible: false\n        });\n      }, _this.props.playModeShowTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", function (playMode) {\n      var animateProps = {\n        className: 'react-jinke-music-player-mode-icon'\n      };\n      var IconNode = null;\n\n      switch (playMode) {\n        case PLAY_MODE.order:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n          break;\n\n        case PLAY_MODE.orderLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.orderLoop, animateProps);\n          break;\n\n        case PLAY_MODE.singleLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.loop, animateProps);\n          break;\n\n        case PLAY_MODE.shufflePlay:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.shuffle, animateProps);\n          break;\n\n        default:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n      }\n\n      return IconNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", function (playId) {\n      var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.state;\n      var currentPlayId = state.playId,\n          playing = state.playing,\n          audioLists = state.audioLists,\n          loading = state.loading,\n          canPlay = state.canPlay;\n\n      if (Array.isArray(audioLists) && audioLists.length === 0) {\n        // eslint-disable-next-line no-console\n        return console.warn('Warning: Your playlist has no songs. and cannot play !');\n      }\n\n      if (loading && playId === currentPlayId) {\n        return;\n      }\n\n      var playIndex = audioLists.findIndex(function (audio) {\n        return audio[PLAYER_KEY] === playId;\n      });\n\n      var _ref2 = audioLists[playIndex] || {},\n          name = _ref2.name,\n          cover = _ref2.cover,\n          musicSrc = _ref2.musicSrc,\n          singer = _ref2.singer,\n          _ref2$lyric = _ref2.lyric,\n          lyric = _ref2$lyric === void 0 ? '' : _ref2$lyric;\n\n      var loadAudio = function loadAudio(originMusicSrc) {\n        _this.setState({\n          name: name,\n          cover: cover,\n          musicSrc: originMusicSrc,\n          singer: singer,\n          playId: playId,\n          lyric: lyric,\n          currentTime: 0,\n          playing: false,\n          loading: true,\n          canPlay: false,\n          loadedProgress: 0,\n          playIndex: playIndex,\n          isAutoPlayWhenUserClicked: true\n        }, function () {\n          _this.lyric && _this.lyric.stop();\n\n          _this.audio.load();\n\n          _this.updateMediaSessionMetadata();\n\n          setTimeout(function () {\n            _this.initLyricParser();\n          }, 0);\n        });\n      }; // 如果点击当前项 就暂停 或者播放\n\n\n      if (playId === currentPlayId && !ignore) {\n        _this.setState({\n          playing: !playing\n        });\n\n        if (!playing) {\n          if (canPlay) {\n            _this.play();\n\n            return;\n          }\n\n          return loadAudio(musicSrc);\n        }\n\n        return _this.audio.pause();\n      }\n\n      _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\n      _this.props.onPlayIndexChange && _this.props.onPlayIndexChange(playIndex);\n\n      switch (_typeof(musicSrc)) {\n        case 'function':\n          musicSrc().then(loadAudio, _this.onAudioError);\n          break;\n\n        default:\n          loadAudio(musicSrc);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", function () {\n      _this.audio.pause();\n\n      _this.lyric && _this.lyric.stop();\n\n      _this.initPlayInfo([]);\n\n      _this.resetAudioPlayStatus();\n\n      _this.resetAudioPlayId();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioPlayId\", function () {\n      _this.setState({\n        playId: _this.initPlayId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAudioLists\", function () {\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange('', [], {});\n\n      _this.resetAudioStatus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDeleteAudioLists\", function (audioId) {\n      return function (e) {\n        e.stopPropagation(); // 如果不 传 id  删除全部\n\n        var _this$state3 = _this.state,\n            audioLists = _this$state3.audioLists,\n            playId = _this$state3.playId;\n\n        if (audioLists.length < 1) {\n          return;\n        }\n\n        _this.lyric && _this.lyric.stop();\n\n        if (!audioId) {\n          _this.clearAudioLists();\n\n          return;\n        }\n\n        var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\n          return audio[PLAYER_KEY] !== audioId;\n        }); // 触发删除动画,等动画结束 删除列表\n\n\n        _this.setState({\n          removeId: audioId\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            audioLists: newAudioLists,\n            removeId: -1\n          }, function () {\n            if (!newAudioLists.length) {\n              return _this.resetAudioStatus();\n            } // 如果删除的是当前正在播放的 顺延下一首播放\n\n\n            if (audioId === playId) {\n              _this.handlePlay(PLAY_MODE.orderLoop);\n            }\n          });\n        }, AUDIO_LIST_REMOVE_ANIMATE_TIME);\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", function () {\n      _this.setState(function (_ref3) {\n        var audioListsPanelVisible = _ref3.audioListsPanelVisible;\n        return {\n          initAnimate: true,\n          audioListsPanelVisible: !audioListsPanelVisible\n        };\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", function (e) {\n      e.stopPropagation();\n\n      _this._closeAudioListsPanel();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAudioListsPanel\", function () {\n      var audioListsPanelVisible = _this.state.audioListsPanelVisible;\n\n      _this.setState({\n        audioListsPanelVisible: false\n      });\n\n      if (audioListsPanelVisible) {\n        _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"themeChange\", function (isLight) {\n      var theme = isLight ? THEME.LIGHT : THEME.DARK;\n\n      _this.setState({\n        theme: theme\n      });\n\n      _this.props.onThemeChange && _this.props.onThemeChange(theme);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", function () {\n      var musicSrc = _this.state.musicSrc;\n\n      if (_this.state.musicSrc) {\n        var customDownloader = _this.props.customDownloader;\n\n        var baseAudioInfo = _this.getBaseAudioInfo();\n\n        var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\n\n        var transformedDownloadAudioInfo = {};\n\n        if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\n          onBeforeAudioDownload.then(function (info) {\n            var src = info.src,\n                filename = info.filename,\n                mimeType = info.mimeType;\n            transformedDownloadAudioInfo = info;\n\n            if (customDownloader) {\n              customDownloader(info);\n            } else {\n              download(src, filename, mimeType);\n            }\n          });\n        } else {\n          customDownloader ? customDownloader({\n            src: musicSrc\n          }) : download(musicSrc);\n        }\n\n        _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDrag\", function (e, _ref4) {\n      var x = _ref4.x,\n          y = _ref4.y;\n      var _this$state4 = _this.state,\n          moveX = _this$state4.moveX,\n          moveY = _this$state4.moveY;\n      _this.isDrag = true; // mousedown will trigger drag event on android devices (react-draggable) :(\n\n      if (moveX === x && moveY === y) {\n        _this.isDrag = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStart\", function (e, _ref5) {\n      var x = _ref5.x,\n          y = _ref5.y;\n      _this.isDrag = false;\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStop\", function (e, _ref6) {\n      var x = _ref6.x,\n          y = _ref6.y;\n\n      if (_this.props.showDestroy && _this.destroyBtn && _this.destroyBtn.current && _this.destroyBtn.current.contains(e.target)) {\n        _this.onDestroyPlayer();\n\n        return;\n      }\n\n      if (!_this.isDrag) {\n        if (_this.state.isNeedMobileHack) {\n          _this.loadAndPlayAudio();\n\n          _this.setState({\n            isNeedMobileHack: false\n          });\n        }\n\n        _this.onOpenPanel();\n      }\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResetVolume\", function () {\n      var currentAudioVolume = _this.state.currentAudioVolume;\n\n      _this.setAudioVolume(_this.getVolumeBarValue(currentAudioVolume || 0.1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", function (volumeBarValue) {\n      _this.audio.volume = _this.getListeningVolume(volumeBarValue);\n\n      _this.setState({\n        currentAudioVolume: volumeBarValue,\n        soundValue: volumeBarValue\n      }); // Update fade-in interval to transition to new volume\n\n\n      if (_this.state.currentVolumeFade === VOLUME_FADE.IN) {\n        _this.state.updateIntervalEndVolume && _this.state.updateIntervalEndVolume(volumeBarValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAll\", function (target) {\n      target.stopPropagation();\n      target.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", function (ele) {\n      var _ele$getBoundingClien = ele.getBoundingClientRect(),\n          left = _ele$getBoundingClien.left,\n          top = _ele$getBoundingClien.top;\n\n      return {\n        left: left,\n        top: top\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getListeningVolume\", function (volumeBarValue) {\n      return Math.pow(volumeBarValue, 2);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVolumeBarValue\", function (listeningVolume) {\n      return Math.sqrt(listeningVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioReload\", function () {\n      if (_this.props.audioLists.length) {\n        _this.handlePlay(PLAY_MODE.singleLoop);\n\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenPanel\", function () {\n      var _this$props = _this.props,\n          toggleMode = _this$props.toggleMode,\n          spaceBar = _this$props.spaceBar;\n\n      if (toggleMode) {\n        _this.setState({\n          toggle: true\n        });\n\n        _this.props.onModeChange && _this.props.onModeChange(MODE.FULL);\n\n        if (spaceBar && _this.player.current) {\n          _this.player.current.focus({\n            preventScroll: true\n          });\n        }\n      }\n\n      _this.onCoverClick(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHidePanel\", function () {\n      _this.setState({\n        toggle: false,\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onModeChange && _this.props.onModeChange(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDestroyPlayer\", function () {\n      if (_this.props.onBeforeDestroy) {\n        var onBeforeDestroy = Promise.resolve(_this.props.onBeforeDestroy(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo()));\n\n        if (onBeforeDestroy && onBeforeDestroy.then) {\n          onBeforeDestroy.then(function () {\n            _this._onDestroyPlayer();\n          }) // ignore unhandledrejection handler\n          [\"catch\"](function () {});\n        }\n\n        return;\n      }\n\n      _this._onDestroyPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyPlayer\", function () {\n      _this.unInstallPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyed\", function () {\n      _this.setState({\n        isPlayDestroyed: true\n      });\n\n      if (_this.props.onDestroyed) {\n        _this.props.onDestroyed(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentPlayIndex\", function () {\n      return _this.state.audioLists.findIndex(function (audio) {\n        return audio[PLAYER_KEY] === _this.state.playId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioPlayStatus\", function () {\n      return new Promise(function (res) {\n        _this.setState({\n          currentTime: 0,\n          loading: false,\n          playing: false,\n          canPlay: false,\n          lyric: '',\n          currentLyric: '',\n          loadedProgress: 0,\n          playIndex: DEFAULT_PLAY_INDEX\n        }, res);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTogglePlay\", function () {\n      _this.setState({\n        isAudioSeeking: false\n      });\n\n      if (_this.state.audioLists.length >= 1) {\n        var _ref7 = _this.props.volumeFade || {},\n            fadeIn = _ref7.fadeIn,\n            fadeOut = _ref7.fadeOut;\n\n        var _this$state5 = _this.state,\n            currentVolumeFade = _this$state5.currentVolumeFade,\n            currentVolumeFadeInterval = _this$state5.currentVolumeFadeInterval;\n        var isCurrentlyFading = currentVolumeFade === VOLUME_FADE.IN || currentVolumeFade === VOLUME_FADE.OUT;\n        /**\n         * Currently in middle of fading in/out, so need to cancel the current interval and do the opposite action.\n         * E.g. if currently fading out, then we need to cancel the fade-out and do a fade-in starting at current volume.\n         */\n\n        if (isCurrentlyFading) {\n          // Clear current fade-in/out\n          clearInterval(currentVolumeFadeInterval);\n\n          _this.setState({\n            currentVolumeFadeInterval: undefined,\n            updateIntervalEndVolume: undefined\n          });\n        } // Currently playing track or in the middle of fading in\n\n\n        if (!isCurrentlyFading && _this.state.playing || currentVolumeFade === VOLUME_FADE.IN) {\n          _this.setState({\n            currentVolumeFade: VOLUME_FADE.OUT\n          }); // Fade in from current volume to 0\n\n\n          var _adjustVolume = adjustVolume(_this.audio, _this.audio.volume, 0, {\n            duration: fadeOut\n          }, function () {\n            _this.audio.pause();\n\n            _this.setState({\n              currentVolumeFade: VOLUME_FADE.NONE,\n              currentVolumeFadeInterval: undefined,\n              playing: false,\n              updateIntervalEndVolume: undefined\n            }); // Restore volume so slider does not reset to zero\n            // Restore volume so slider does not reset to zero\n\n\n            _this.audio.volume = _this.getListeningVolume(_this.state.soundValue);\n          }),\n              fadeOutInterval = _adjustVolume.fadeInterval,\n              updateIntervalEndVolume = _adjustVolume.updateIntervalEndVolume;\n\n          _this.setState({\n            currentVolumeFadeInterval: fadeOutInterval,\n            updateIntervalEndVolume: updateIntervalEndVolume\n          });\n        } else {\n          _this.setState({\n            currentVolumeFade: VOLUME_FADE.IN\n          }); // Start volume may not be 0 if interrupting a fade-out\n\n\n          var startVolume = isCurrentlyFading ? _this.audio.volume : 0;\n\n          var endVolume = _this.getListeningVolume(_this.state.soundValue);\n\n          var _adjustVolume2 = adjustVolume(_this.audio, startVolume, endVolume, {\n            duration: fadeIn\n          }, function () {\n            _this.setState({\n              currentVolumeFade: VOLUME_FADE.NONE,\n              currentVolumeFadeInterval: undefined,\n              updateIntervalEndVolume: undefined\n            }); // It's possible that the volume level in the UI has changed since beginning of fade\n            // It's possible that the volume level in the UI has changed since beginning of fade\n\n\n            _this.audio.volume = _this.getListeningVolume(_this.state.soundValue);\n          }),\n              fadeInInterval = _adjustVolume2.fadeInterval,\n              _updateIntervalEndVolume = _adjustVolume2.updateIntervalEndVolume;\n\n          _this.setState({\n            currentVolumeFadeInterval: fadeInInterval,\n            updateIntervalEndVolume: _updateIntervalEndVolume,\n            isAutoPlayWhenUserClicked: true\n          }, function () {\n            if (fadeInInterval) {\n              _this.audio.volume = startVolume;\n            }\n\n            _this.loadAndPlayAudio();\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playAudio\", function () {\n      var isLoaded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (_this.isAudioCanPlay || isLoaded) {\n        if (isLoaded) {\n          _this.setAudioLoaded();\n        }\n\n        _this.loadAndPlayAudio(isLoaded);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioLoaded\", function () {\n      _this.setState({\n        loading: false,\n        playing: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPause\", function () {\n      _this.setState({\n        playing: false\n      });\n\n      _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", function () {\n      // Audio currentTime changed will be trigger audio playing event\n      if (_this.state.isAudioSeeking) {\n        return;\n      }\n\n      _this.setState({\n        playing: true,\n        loading: false\n      });\n\n      _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetAudioLoadedProgress\", function () {\n      var _this$audio = _this.audio,\n          timeRanges = _this$audio.buffered,\n          duration = _this$audio.duration;\n\n      if (timeRanges.length && timeRanges.end) {\n        var loadedProgress = timeRanges.end(timeRanges.length - 1) / duration * 100;\n\n        _this.setState({\n          loadedProgress: loadedProgress\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", function () {\n      var isLoaded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var remember = _this.props.remember;\n      var _this$state6 = _this.state,\n          isInitRemember = _this$state6.isInitRemember,\n          musicSrc = _this$state6.musicSrc;\n      var _this$audio2 = _this.audio,\n          networkState = _this$audio2.networkState,\n          readyState = _this$audio2.readyState;\n\n      if (!musicSrc) {\n        return;\n      }\n\n      if (networkState === AUDIO_NETWORK_STATE.NETWORK_NO_SOURCE || networkState === AUDIO_NETWORK_STATE.NETWORK_EMPTY) {\n        return _this.onAudioError({\n          reason: \"\\n          [loadAndPlayAudio]: Failed to load because no supported source was found.\\n          current network status is \".concat(networkState, \".\\n        \")\n        });\n      }\n\n      _this.setState({\n        playing: false,\n        loading: true,\n        isAudioSeeking: false,\n        isResetCoverRotate: false\n      });\n\n      if (isLoaded || readyState >= AUDIO_READY_STATE.HAVE_FUTURE_DATA) {\n        var _this$getLastPlayStat = _this.getLastPlayStatus(),\n            playing = _this$getLastPlayStat.playing;\n\n        var isLastPause = remember && !isInitRemember && !playing;\n        var canPlay = remember ? !isLastPause : _this.isAudioCanPlay;\n\n        _this.setState({\n          playing: canPlay,\n          loading: false\n        }, function () {\n          if (canPlay) {\n            _this.play();\n          }\n\n          _this.setState({\n            isInitAutoPlay: true,\n            isInitRemember: true,\n            isAutoPlayWhenUserClicked: false\n          });\n        });\n      } else {\n        _this.audio.load();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioError\", function (error) {\n      var _this$state7 = _this.state,\n          playMode = _this$state7.playMode,\n          audioLists = _this$state7.audioLists,\n          playId = _this$state7.playId,\n          musicSrc = _this$state7.musicSrc;\n      var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\n      var isSingleLoop = playMode === PLAY_MODE.singleLoop;\n      var currentPlayMode = isSingleLoop ? PLAY_MODE.order : playMode;\n      _this.lyric && _this.lyric.stop(); // 如果删除歌曲或其他原因导致列表为空时\n      // 这时候会触发 https://developer.mozilla.org/en-US/docs/Web/API/MediaError\n\n      if (musicSrc) {\n        // 如果当前音乐加载出错 尝试播放下一首\n        if (loadAudioErrorPlayNext && audioLists.length) {\n          var isLastAudio = (playMode === PLAY_MODE.order || playMode === PLAY_MODE.orderLoop) && playId === audioLists[audioLists.length - 1][PLAYER_KEY];\n\n          if (!isLastAudio) {\n            _this.handlePlay(currentPlayMode, true);\n          }\n        }\n\n        _this.props.onAudioError && _this.props.onAudioError(_this.audio.error || error && error.reason || null, playId, audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (playMode) {\n      var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$state8 = _this.state,\n          playId = _this$state8.playId,\n          audioLists = _this$state8.audioLists;\n      var audioListsLen = audioLists.length;\n\n      if (!audioListsLen) {\n        return;\n      }\n\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      switch (playMode) {\n        // 顺序播放\n        case PLAY_MODE.order:\n          // 拖拽排序后 或者 正常播放 到最后一首歌 就暂停\n          if (currentPlayIndex === audioListsLen - 1) {\n            _this.audio.pause();\n\n            return;\n          }\n\n          _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1][PLAYER_KEY] : audioLists[currentPlayIndex - 1][PLAYER_KEY]);\n\n          break;\n        // 列表循环\n\n        case PLAY_MODE.orderLoop:\n          if (isNext) {\n            if (currentPlayIndex === audioListsLen - 1) {\n              return _this.audioListsPlay(audioLists[0][PLAYER_KEY]);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex + 1][PLAYER_KEY]);\n          } else {\n            if (currentPlayIndex === 0) {\n              return _this.audioListsPlay(audioLists[audioListsLen - 1][PLAYER_KEY]);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex - 1][PLAYER_KEY]);\n          }\n\n          break;\n        // 单曲循环\n\n        case PLAY_MODE.singleLoop:\n          _this.audio.currentTime = 0;\n\n          _this.audioListsPlay(playId, true);\n\n          break;\n        // 随机播放\n\n        case PLAY_MODE.shufflePlay:\n          {\n            var randomIndex = createRandomNum(0, audioListsLen - 1);\n\n            if (randomIndex === _this.getCurrentPlayIndex()) {\n              randomIndex = _this.getPlayIndex(randomIndex + 1);\n            }\n\n            var randomPlayId = (audioLists[randomIndex] || {})[PLAYER_KEY];\n\n            _this.audioListsPlay(randomPlayId, true);\n          }\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioEnd\", function () {\n      _this.props.onAudioEnded && _this.props.onAudioEnded(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n\n      _this.handlePlay(_this.state.playMode);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", function () {\n      var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var playMode = _this.state.playMode;\n      var _playMode = '';\n\n      switch (playMode) {\n        case PLAY_MODE.shufflePlay:\n          _playMode = playMode;\n          break;\n\n        default:\n          _playMode = PLAY_MODE.orderLoop;\n          break;\n      }\n\n      _this.handlePlay(_playMode, isNext);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayPrevAudio\", function () {\n      var restartCurrentOnPrev = _this.props.restartCurrentOnPrev;\n\n      if (restartCurrentOnPrev && _this.audio.currentTime > 1) {\n        _this.audio.currentTime = 0;\n        return;\n      }\n\n      _this.audioPrevAndNextBasePlayHandle(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayNextAudio\", function () {\n      _this.audioPrevAndNextBasePlayHandle(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", function () {\n      var currentTime = _this.audio.currentTime;\n\n      _this.setState({\n        currentTime: currentTime\n      });\n\n      if (_this.props.remember) {\n        _this.saveLastPlayStatus();\n      }\n\n      _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSoundChange\", function (value) {\n      _this.setAudioVolume(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", function () {\n      var volume = _this.audio.volume;\n      var _this$state9 = _this.state,\n          currentVolumeFade = _this$state9.currentVolumeFade,\n          currentAudioVolume = _this$state9.currentAudioVolume;\n\n      if (currentVolumeFade !== VOLUME_FADE.NONE || currentAudioVolume === volume) {\n        return;\n      }\n\n      var volumeBarValue = _this.getVolumeBarValue(volume);\n\n      _this.setState({\n        soundValue: volumeBarValue\n      });\n\n      if (_this.props.onAudioVolumeChange) {\n        var formattedVolume = parseFloat(volume.toFixed(4));\n\n        _this.props.onAudioVolumeChange(formattedVolume);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onProgressChange\", function (currentTime) {\n      if (_this.audio) {\n        _this.audio.currentTime = currentTime;\n      }\n\n      _this.setState({\n        currentTime: currentTime,\n        isAudioSeeking: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", function (currentTime) {\n      _this.setState({\n        isAudioSeeking: true\n      });\n\n      if (!_this.state.audioLists.length) {\n        return;\n      }\n\n      _this.lyric && _this.lyric.seek(currentTime * 1000);\n\n      if (!_this.state.playing) {\n        _this.lyric && _this.lyric.stop();\n      }\n\n      if (_this.audio) {\n        _this.audio.currentTime = currentTime;\n      }\n\n      _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n      setTimeout(function () {\n        _this.setState({\n          isAudioSeeking: false\n        });\n      }, 500);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioMute\", function () {\n      _this.setState({\n        soundValue: 0,\n        currentAudioVolume: _this.audio.volume\n      }, function () {\n        _this.audio.volume = 0;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", function (e) {\n      var _this$state10 = _this.state,\n          audioLists = _this$state10.audioLists,\n          playId = _this$state10.playId;\n\n      var audioInfo = _this.getBaseAudioInfo();\n\n      var mergedAudioInfo = _objectSpread(_objectSpread({}, e), audioInfo);\n\n      _this.props.onAudioAbort && _this.props.onAudioAbort(playId, audioLists, mergedAudioInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMode\", function (mode) {\n      if (mode === MODE.FULL) {\n        _this.setState({\n          toggle: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleTheme\", function (theme) {\n      _this.setState({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioListsSortEnd\", function (_ref8) {\n      var oldIndex = _ref8.oldIndex,\n          newIndex = _ref8.newIndex;\n\n      if (oldIndex === newIndex) {\n        return;\n      }\n\n      var _this$state11 = _this.state,\n          playId = _this$state11.playId,\n          audioLists = _this$state11.audioLists;\n\n      var _audioLists = _toConsumableArray(audioLists);\n\n      var item = _audioLists.splice(oldIndex, 1)[0];\n\n      _audioLists.splice(newIndex, 0, item); // 如果拖动正在播放的歌曲 播放Id 等于 拖动后的index\n\n\n      var _playId = oldIndex === playId ? newIndex : playId;\n\n      _this.setState({\n        audioLists: _audioLists,\n        playId: _playId\n      });\n\n      _this.props.onAudioListsSortEnd && _this.props.onAudioListsSortEnd(oldIndex, newIndex);\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo()); // TODO: remove\n\n      if (_this.props.onAudioListsDragEnd) {\n        // eslint-disable-next-line no-console\n        console.warn('[Deprecated] onAudioListsDragEnd is deprecated. please use onAudioListsSortEnd(oldIndex, newIndex){}');\n\n        _this.props.onAudioListsDragEnd(oldIndex, newIndex);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", function () {\n      var _this$state12 = _this.state,\n          currentTime = _this$state12.currentTime,\n          playId = _this$state12.playId,\n          theme = _this$state12.theme,\n          soundValue = _this$state12.soundValue,\n          playMode = _this$state12.playMode,\n          name = _this$state12.name,\n          cover = _this$state12.cover,\n          singer = _this$state12.singer,\n          musicSrc = _this$state12.musicSrc;\n      var lastPlayStatus = JSON.stringify({\n        currentTime: currentTime,\n        playId: playId,\n        theme: theme,\n        playMode: playMode,\n        soundValue: soundValue,\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc\n      });\n      localStorage.setItem('lastPlayStatus', lastPlayStatus);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", function () {\n      var _this$props2 = _this.props,\n          theme = _this$props2.theme,\n          defaultPlayMode = _this$props2.defaultPlayMode,\n          playMode = _this$props2.playMode,\n          defaultPlayIndex = _this$props2.defaultPlayIndex,\n          playIndex = _this$props2.playIndex;\n      var status = {\n        currentTime: 0,\n        playMode: playMode || defaultPlayMode || PLAY_MODE.order,\n        name: '',\n        cover: '',\n        singer: '',\n        musicSrc: '',\n        lyric: '',\n        playId: _this.getDefaultPlayId(),\n        theme: theme,\n        playing: true,\n        playIndex: playIndex || defaultPlayIndex || 0\n      };\n\n      try {\n        return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\n      } catch (error) {\n        return status;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkCurrentPlayingAudioIsInUpdatedAudioLists\", function () {\n      var nextProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$state13 = _this.state,\n          playId = _this$state13.playId,\n          musicSrc = _this$state13.musicSrc;\n\n      if (!nextProps.quietUpdate || !Array.isArray(nextProps.audioLists)) {\n        return false;\n      }\n\n      return playId && nextProps.audioLists.some(function (newAudioInfo) {\n        return newAudioInfo[PLAYER_KEY] === playId || newAudioInfo.musicSrc === musicSrc;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"play\", function () {\n      // https://developers.google.com/web/updates/2017/06/play-request-was-interrupted\n      var playPromise = _this.audio.play();\n\n      if (playPromise && playPromise.then) {\n        playPromise.then(function () {\n          _this.setState({\n            loading: false,\n            playing: true\n          });\n        })[\"catch\"](function () {\n          _this.setState({\n            loading: false,\n            playing: false\n          });\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", function () {\n      if (_this.props.autoPlay && !_this.state.playing) {\n        _this.audio.load();\n\n        _this.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", function () {\n      document.addEventListener('touchstart', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      }); // 监听微信准备就绪事件\n\n      document.addEventListener('WeixinJSBridgeReady', function () {\n        _this.mockAutoPlayForMobile();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", function () {\n      document.addEventListener('click', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindEvents\", function () {\n      var _this2;\n\n      (_this2 = _this).bindEvents.apply(_this2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindEvents\", function () {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\n      var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        waiting: _this.loadAndPlayAudio,\n        canplay: _this.onAudioCanPlay,\n        error: _this.onAudioError,\n        ended: _this.onAudioEnd,\n        pause: _this.onAudioPause,\n        play: _this.onAudioPlay,\n        timeupdate: _this.audioTimeUpdate,\n        volumechange: _this.onAudioVolumeChange,\n        abort: _this.onAudioAbort,\n        progress: _this.onSetAudioLoadedProgress\n      };\n      var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var once = _this.props.once;\n\n      for (var name in eventsNames) {\n        var _events = eventsNames[name];\n\n        if (target) {\n          bind ? target.addEventListener(name, _events, {\n            once: !!(once && name === 'play')\n          }) : target.removeEventListener(name, _events);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.audioLists;\n\n      var playIndex = _this.getPlayIndex(undefined, audioLists);\n\n      var playId = _this.state.playId || audioLists[playIndex] && audioLists[playIndex][PLAYER_KEY];\n      return playId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var playId = _this.getPlayId(audioLists);\n\n      var _ref9 = audioLists.find(function (audio) {\n        return audio[PLAYER_KEY] === playId;\n      }) || {},\n          _ref9$name = _ref9.name,\n          name = _ref9$name === void 0 ? '' : _ref9$name,\n          _ref9$cover = _ref9.cover,\n          cover = _ref9$cover === void 0 ? '' : _ref9$cover,\n          _ref9$singer = _ref9.singer,\n          singer = _ref9$singer === void 0 ? '' : _ref9$singer,\n          _ref9$musicSrc = _ref9.musicSrc,\n          musicSrc = _ref9$musicSrc === void 0 ? '' : _ref9$musicSrc,\n          _ref9$lyric = _ref9.lyric,\n          lyric = _ref9$lyric === void 0 ? '' : _ref9$lyric;\n\n      return {\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        lyric: lyric,\n        audioLists: audioLists,\n        playId: playId\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var newAudioLists = audioLists.filter(function (audio) {\n        return !audio[PLAYER_KEY];\n      });\n      var lastAudioLists = audioLists.filter(function (audio) {\n        return audio[PLAYER_KEY];\n      });\n      var mergedAudioLists = [].concat(_toConsumableArray(lastAudioLists), _toConsumableArray(newAudioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, _defineProperty({}, PLAYER_KEY, uuId()));\n      })));\n      return _this._getPlayInfo(mergedAudioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfoOfNewList\", function (nextProps) {\n      var _nextProps$audioLists = nextProps.audioLists,\n          audioLists = _nextProps$audioLists === void 0 ? [] : _nextProps$audioLists;\n\n      var _audioLists = audioLists.map(function (info) {\n        var prevAudioBeforeUpdate = nextProps.quietUpdate && _this.state.audioLists.find(function (_ref10) {\n          var musicSrc = _ref10.musicSrc;\n          return musicSrc === info.musicSrc;\n        }) || {};\n        return _objectSpread(_objectSpread({}, info), {}, _defineProperty({}, PLAYER_KEY, prevAudioBeforeUpdate[PLAYER_KEY] || uuId()));\n      });\n\n      return _this._getPlayInfo(_audioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", function (audioLists, cb) {\n      var info = _this.getPlayInfo(audioLists);\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (originMusicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, info), {}, {\n              musicSrc: originMusicSrc\n            }), cb);\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(info, cb);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMatchMediaListener\", function (query, handler) {\n      var media = window.matchMedia(query);\n      handler(media);\n\n      if ('addEventListener' in media) {\n        media.addEventListener('change', handler);\n      } else {\n        media.addListener(handler);\n      }\n\n      return media;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMatchMediaListener\", function (media, handler) {\n      if (media) {\n        if ('removeEventListener' in media) {\n          media.removeEventListener('change', handler);\n        } else {\n          media.removeListener && media.removeListener(handler);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMobileListener\", function () {\n      _this.mobileMedia = _this.addMatchMediaListener(_this.props.mobileMediaQuery, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMobileListener\", function () {\n      _this.removeMatchMediaListener(_this.mobileMedia, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addSystemThemeListener\", function () {\n      _this.systemThemeMedia = _this.addMatchMediaListener(MEDIA_QUERY.DARK_THEME, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeSystemThemeListener\", function () {\n      _this.removeMatchMediaListener(_this.systemThemeMedia, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mobileMediaHandler\", function (_ref11) {\n      var matches = _ref11.matches;\n\n      _this.setState({\n        isMobile: !!matches\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"systemThemeMediaHandler\", function (_ref12) {\n      var matches = _ref12.matches;\n\n      if (_this.props.theme === THEME.AUTO) {\n        var theme = matches ? THEME.DARK : THEME.LIGHT;\n\n        _this.updateTheme(theme);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", function () {\n      var _this$props3 = _this.props,\n          defaultVolume = _this$props3.defaultVolume,\n          remember = _this$props3.remember; // 音量 [0-1]\n\n      _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 1));\n\n      var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\n          _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\n          soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\n\n      _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n\n      var playIndex = _this.getPlayIndex();\n\n      return audioLists[playIndex] && audioLists[playIndex][PLAYER_KEY];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initLyricParser\", function () {\n      _this.lyric = new Lyric(_this.state.lyric, _this.onLyricChange);\n\n      _this.setState({\n        currentLyric: _this.lyric.lines[0] && _this.lyric.lines[0].text\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLyricChange\", function (_ref13) {\n      var lineNum = _ref13.lineNum,\n          txt = _ref13.txt;\n\n      _this.setState({\n        currentLyric: txt\n      });\n\n      _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTheme\", function (theme) {\n      if (theme && theme !== _this.props.theme && Object.values(THEME).includes(theme)) {\n        _this.setState({\n          theme: theme\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMode\", function (mode) {\n      if (mode && mode !== _this.props.mode && Object.values(MODE).includes(mode)) {\n        _this.setState({\n          toggle: mode === MODE.FULL\n        });\n\n        if (mode === MODE.MINI) {\n          _this._closeAudioListsPanel();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayMode\", function (playMode) {\n      if (!Object.values(PLAY_MODE).includes(playMode)) {\n        return;\n      }\n\n      if (playMode !== _this.props.playMode) {\n        _this.setState({\n          playMode: playMode\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", function (audioLists) {\n      var newAudioLists = [].concat(_toConsumableArray(_this.state.audioLists), _toConsumableArray(audioLists.filter(function (audio) {\n        return _this.state.audioLists.findIndex(function (v) {\n          return v.musicSrc === audio.musicSrc;\n        }) === -1;\n      })));\n\n      _this.initPlayInfo(newAudioLists);\n\n      _this.bindEvents(_this.audio);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNewAudioLists\", function (nextProps) {\n      var audioLists = nextProps.audioLists,\n          remember = nextProps.remember,\n          playMode = nextProps.playMode,\n          theme = nextProps.theme,\n          autoPlayInitLoadPlayList = nextProps.autoPlayInitLoadPlayList,\n          playIndex = nextProps.playIndex;\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      var info = _this.getPlayInfoOfNewList(nextProps);\n\n      var lastPlayStatus = remember ? _this.getLastPlayStatus() : {\n        playMode: playMode || PLAY_MODE.order,\n        playIndex: playIndex || DEFAULT_PLAY_INDEX\n      };\n\n      if (theme !== THEME.AUTO) {\n        lastPlayStatus.theme = theme;\n      }\n\n      var audioInfo = _objectSpread(_objectSpread(_objectSpread({}, info), lastPlayStatus), {}, {\n        isInitAutoPlay: autoPlayInitLoadPlayList,\n        playing: _this.isAudioCanPlay\n      });\n\n      if (_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.setState({\n          audioLists: info.audioLists\n        });\n\n        return;\n      }\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (musicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, audioInfo), {}, {\n              musicSrc: musicSrc\n            }));\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(audioInfo);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPlayId\", function () {\n      return new Promise(function (res) {\n        _this.setState({\n          playId: _this.initPlayId\n        }, res);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeAudioLists\", function (nextProps) {\n      if (!_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.resetAudioStatus();\n      }\n\n      _this.resetPlayId().then(function () {\n        _this.loadNewAudioLists(nextProps);\n\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, nextProps.audioLists, _this.getBaseAudioInfo());\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", function (playIndex) {\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      if (playIndex !== undefined && currentPlayIndex !== playIndex) {\n        _this.resetAudioPlayStatus().then(function () {\n          var currentPlayAudio = _this.state.audioLists[_this.getPlayIndex(playIndex)];\n\n          if (currentPlayAudio && currentPlayAudio[PLAYER_KEY]) {\n            _this.audioListsPlay(currentPlayAudio[PLAYER_KEY], true);\n          }\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playByIndex\", function (index) {\n      _this.updatePlayIndex(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getEnhanceAudio\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          audio = _assertThisInitialize.audio;\n\n      [{\n        name: 'destroy',\n        value: _this.onDestroyPlayer\n      }, {\n        name: 'updatePlayIndex',\n        value: _this.updatePlayIndex\n      }, {\n        name: 'playByIndex',\n        value: _this.playByIndex\n      }, {\n        name: 'playNext',\n        value: _this.onPlayNextAudio\n      }, {\n        name: 'playPrev',\n        value: _this.onPlayPrevAudio\n      }, {\n        name: 'togglePlay',\n        value: _this.onTogglePlay\n      }, {\n        name: 'clear',\n        value: _this.clearAudioLists\n      }, {\n        name: 'sortable',\n        value: _this.sortable\n      }].forEach(function (_ref14) {\n        var name = _ref14.name,\n            value = _ref14.value;\n        Object.defineProperty(audio, name, {\n          value: value,\n          writable: false\n        });\n      });\n      return audio;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", function () {\n      if (_this.props.getAudioInstance) {\n        _this.props.getAudioInstance(_this.getEnhanceAudio());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionMetadata\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var _this$state14 = _this.state,\n            name = _this$state14.name,\n            cover = _this$state14.cover,\n            singer = _this$state14.singer;\n        var mediaMetaDataConfig = {\n          title: name,\n          artist: singer,\n          album: name\n        };\n\n        if (cover) {\n          mediaMetaDataConfig.artwork = ['96x96', '128x128', '192x192', '256x256', '384x384', '512x512'].map(function (size) {\n            return {\n              src: cover,\n              sizes: size,\n              type: 'image/png'\n            };\n          });\n        }\n\n        navigator.mediaSession.metadata = new MediaMetadata(mediaMetaDataConfig);\n\n        _this.updateMediaSessionPositionState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionPositionState\", function () {\n      if ('setPositionState' in navigator.mediaSession) {\n        try {\n          var _assertThisInitialize2 = _assertThisInitialized(_this),\n              audio = _assertThisInitialize2.audio;\n\n          navigator.mediaSession.setPositionState({\n            duration: _this.audioDuration,\n            playbackRate: audio.playbackRate || 1,\n            position: audio.currentTime || 0\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.error('Update media session position state failed: ', error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddMediaSession\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var defaultSkipTime = 10;\n        navigator.mediaSession.setActionHandler('play', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('pause', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('seekbackward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.max(_this.audio.currentTime - skipTime, 0);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('seekforward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.min(_this.audio.currentTime + skipTime, _this.audioDuration);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('previoustrack', _this.onPlayPrevAudio);\n        navigator.mediaSession.setActionHandler('nexttrack', _this.onPlayNextAudio);\n        setTimeout(function () {\n          _this.updateMediaSessionMetadata();\n        }, 0);\n\n        try {\n          navigator.mediaSession.setActionHandler('seekto', function (event) {\n            if (event.fastSeek && 'fastSeek' in _this.audio) {\n              _this.audio.fastSeek(event.seekTime);\n\n              return;\n            }\n\n            _this.audio.currentTime = event.seekTime;\n\n            _this.updateMediaSessionPositionState();\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.warn('Warning! The \"seekto\" media session action is not supported.');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", function () {\n      window.addEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", function () {\n      window.removeEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindKeyDownEvents\", function () {\n      if (_this.props.spaceBar && _this.player.current) {\n        _this.player.current.addEventListener('keydown', _this.onKeyDown, false);\n\n        _this.player.current.focus({\n          preventScroll: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindKeyDownEvents\", function () {\n      if (_this.player.current) {\n        _this.player.current.removeEventListener('keydown', _this.onKeyDown, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var spaceBar = _this.props.spaceBar;\n\n      if (spaceBar && e.keyCode === SPACE_BAR_KEYCODE) {\n        _this.onTogglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayer\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n      var isBindKeyDownEvents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var resetAudioVolume = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (resetAudioVolume) {\n        _this.setDefaultAudioVolume();\n      }\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      _this.bindUnhandledRejection();\n\n      _this.bindEvents(_this.audio);\n\n      _this.initLyricParser();\n\n      _this.onAddMediaSession();\n\n      if (IS_MOBILE) {\n        _this.bindMobileAutoPlayEvents();\n      } else {\n        if (isBindKeyDownEvents) {\n          _this.bindKeyDownEvents();\n        }\n\n        if (isSafari()) {\n          _this.bindSafariAutoPlayEvents();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeLyric\", function () {\n      if (_this.lyric) {\n        _this.lyric.stop();\n\n        _this.lyric = undefined;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unInstallPlayer\", function () {\n      _this.unBindEvents(_this.audio, undefined, false);\n\n      _this.unBindUnhandledRejection();\n\n      _this.unBindKeyDownEvents();\n\n      _this.removeMobileListener();\n\n      _this.removeLyric();\n\n      _this._onDestroyed();\n\n      _this.sortable && _this.sortable.destroy();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioCanPlay\", function () {\n      if (_this.state.isAudioSeeking) {\n        return;\n      }\n\n      _this.setState({\n        canPlay: true\n      }, function () {\n        _this.playAudio(true);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initSortableAudioLists\", function () {\n      var _this$props4 = _this.props,\n          audioLists = _this$props4.audioLists,\n          sortableOptions = _this$props4.sortableOptions;\n\n      var selector = SORTABLE_CONFIG.selector,\n          defaultOptions = _objectWithoutProperties(SORTABLE_CONFIG, [\"selector\"]);\n\n      var container = document.querySelector(\".\".concat(selector));\n\n      if (Array.isArray(audioLists) && !audioLists.length || !container) {\n        return;\n      }\n\n      if (_this.sortable) {\n        _this.sortable.destroy();\n      }\n\n      _this.sortable = new Sortable(container, _objectSpread(_objectSpread({\n        onEnd: _this.onAudioListsSortEnd\n      }, defaultOptions), sortableOptions));\n    });\n\n    _this.audio = null;\n    _this.targetId = 'music-player-controller';\n    _this._PLAY_MODE_ = Object.values(PLAY_MODE);\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\n    _this.player = /*#__PURE__*/createRef();\n    _this.destroyBtn = /*#__PURE__*/createRef();\n    return _this;\n  }\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"locale\",\n    get: // 初始播放id\n    function get() {\n      var locale = this.props.locale;\n\n      if (typeof locale === 'string') {\n        return LOCALE_CONFIG[this.props.locale];\n      }\n\n      return locale ? _objectSpread(_objectSpread({}, LOCALE_CONFIG[LOCALE.en_US]), locale) : {};\n    }\n  }, {\n    key: \"audioDuration\",\n    get: function get() {\n      var _this$state15 = this.state,\n          audioLists = _this$state15.audioLists,\n          playId = _this$state15.playId;\n\n      if (!audioLists.length || !this.audio) {\n        return 0;\n      }\n\n      var _ref15 = audioLists.find(function (audio) {\n        return audio[PLAYER_KEY] === playId;\n      }) || {},\n          duration = _ref15.duration;\n\n      return Math.max(Number(duration) || this.audio.duration || 0, 0);\n    }\n  }, {\n    key: \"isAudioCanPlay\",\n    get: function get() {\n      var autoPlay = this.props.autoPlay;\n      var _this$state16 = this.state,\n          isInitAutoPlay = _this$state16.isInitAutoPlay,\n          isAutoPlayWhenUserClicked = _this$state16.isAutoPlayWhenUserClicked,\n          canPlay = _this$state16.canPlay;\n      return canPlay && (isInitAutoPlay || autoPlay || isAutoPlayWhenUserClicked);\n    }\n  }, {\n    key: \"iconMap\",\n    get: function get() {\n      var _this3 = this;\n\n      var Spin = function Spin() {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"loading group\"\n        }, _this3.props.icon.loading);\n      };\n\n      return _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_ICON), this.props.icon), {}, {\n        loading: /*#__PURE__*/React.createElement(Spin, null)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props5 = this.props,\n          className = _this$props5.className,\n          drag = _this$props5.drag,\n          style = _this$props5.style,\n          showDownload = _this$props5.showDownload,\n          showPlay = _this$props5.showPlay,\n          showReload = _this$props5.showReload,\n          showPlayMode = _this$props5.showPlayMode,\n          showThemeSwitch = _this$props5.showThemeSwitch,\n          toggleMode = _this$props5.toggleMode,\n          showMiniModeCover = _this$props5.showMiniModeCover,\n          extendsContent = _this$props5.extendsContent,\n          defaultPlayMode = _this$props5.defaultPlayMode,\n          seeked = _this$props5.seeked,\n          showProgressLoadBar = _this$props5.showProgressLoadBar,\n          bounds = _this$props5.bounds,\n          defaultPosition = _this$props5.defaultPosition,\n          showMiniProcessBar = _this$props5.showMiniProcessBar,\n          preload = _this$props5.preload,\n          glassBg = _this$props5.glassBg,\n          remove = _this$props5.remove,\n          lyricClassName = _this$props5.lyricClassName,\n          showLyric = _this$props5.showLyric,\n          getContainer = _this$props5.getContainer,\n          autoHiddenCover = _this$props5.autoHiddenCover,\n          showDestroy = _this$props5.showDestroy,\n          responsive = _this$props5.responsive;\n      var locale = this.locale;\n      var _this$state17 = this.state,\n          toggle = _this$state17.toggle,\n          playing = _this$state17.playing,\n          currentTime = _this$state17.currentTime,\n          soundValue = _this$state17.soundValue,\n          moveX = _this$state17.moveX,\n          moveY = _this$state17.moveY,\n          loading = _this$state17.loading,\n          audioListsPanelVisible = _this$state17.audioListsPanelVisible,\n          theme = _this$state17.theme,\n          name = _this$state17.name,\n          cover = _this$state17.cover,\n          singer = _this$state17.singer,\n          musicSrc = _this$state17.musicSrc,\n          playId = _this$state17.playId,\n          isMobile = _this$state17.isMobile,\n          playMode = _this$state17.playMode,\n          playModeTipVisible = _this$state17.playModeTipVisible,\n          playModelNameVisible = _this$state17.playModelNameVisible,\n          initAnimate = _this$state17.initAnimate,\n          loadedProgress = _this$state17.loadedProgress,\n          audioLists = _this$state17.audioLists,\n          removeId = _this$state17.removeId,\n          currentLyric = _this$state17.currentLyric,\n          audioLyricVisible = _this$state17.audioLyricVisible,\n          isPlayDestroyed = _this$state17.isPlayDestroyed,\n          isResetCoverRotate = _this$state17.isResetCoverRotate;\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\n        preload: 'auto'\n      } : {\n        preload: preload\n      };\n      var panelToggleAnimate = initAnimate ? {\n        show: audioListsPanelVisible,\n        hide: !audioListsPanelVisible\n      } : {\n        show: audioListsPanelVisible\n      };\n      var currentPlayMode = PLAY_MODE[playMode || defaultPlayMode] || PLAY_MODE.order;\n      var currentPlayModeName = locale.playModeText[currentPlayMode];\n      var miniModeCoverConfig = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        }\n      } : {};\n      var formattedCurrentTime = formatTime(currentTime);\n      var formattedAudioDuration = formatTime(this.audioDuration);\n      var progressHandler = seeked ? {\n        onChange: this.onProgressChange,\n        onAfterChange: this.onAudioSeeked\n      } : {};\n      var ProgressBar = /*#__PURE__*/React.createElement(React.Fragment, null, showProgressLoadBar && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-load-bar\",\n        style: {\n          width: \"\".concat(Math.min(loadedProgress, 100), \"%\")\n        }\n      }), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: Math.ceil(this.audioDuration),\n        defaultValue: 0,\n        value: Math.ceil(currentTime)\n      }, progressHandler, PROGRESS_BAR_SLIDER_OPTIONS)));\n      var DownloadComponent = showDownload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-download\",\n        onClick: this.onAudioDownload,\n        title: locale.downloadText\n      }, this.iconMap.download);\n      var ThemeSwitchComponent = showThemeSwitch && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group theme-switch\"\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"theme-switch-container\",\n        onChange: this.themeChange,\n        checkedChildren: locale.lightThemeText,\n        unCheckedChildren: locale.darkThemeText,\n        checked: theme === THEME.LIGHT,\n        title: locale.switchThemeText\n      }));\n      var ReloadComponent = showReload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group reload-btn\",\n        onClick: this.onAudioReload,\n        title: locale.reloadText\n      }, this.iconMap.reload);\n      var LyricComponent = showLyric && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group lyric-btn', {\n          'lyric-btn-active': audioLyricVisible\n        }),\n        onClick: this.toggleAudioLyric,\n        title: locale.toggleLyricText\n      }, this.iconMap.lyric);\n      var PlayModeComponent = showPlayMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group loop-btn'),\n        onClick: this.togglePlayMode,\n        title: locale.playModeText[currentPlayMode]\n      }, this.renderPlayModeIcon(currentPlayMode));\n      var miniProcessBarR = isMobile ? 30 : 40;\n      var DestroyComponent = showDestroy && /*#__PURE__*/React.createElement(\"span\", {\n        title: locale.destroyText,\n        className: \"group destroy-btn\",\n        ref: this.destroyBtn,\n        onClick: !drag || toggle ? this.onDestroyPlayer : undefined\n      }, this.iconMap.destroy);\n      var AudioController = /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player'),\n        style: defaultPosition,\n        tabIndex: \"-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player')\n      }, showMiniProcessBar && /*#__PURE__*/React.createElement(CircleProcessBar, {\n        progress: currentTime / this.audioDuration,\n        r: miniProcessBarR\n      }), /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: this.targetId,\n        className: cls('scale', 'music-player-controller', {\n          'music-player-playing': playing\n        })\n      }, miniModeCoverConfig, {\n        onClick: !drag ? this.onOpenPanel : undefined\n      }), loading ? this.iconMap.loading : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"controller-title\"\n      }, locale.controllerTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"music-player-controller-setting\"\n      }, toggle ? locale.closeText : locale.openText))), DestroyComponent));\n      var container = getContainer() || document.body;\n      var audioTitle = this.getAudioTitle();\n\n      if (isPlayDestroyed) {\n        return null;\n      }\n\n      var shouldShowPlayIcon = !playing || this.state.currentVolumeFade === VOLUME_FADE.OUT;\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player-main', {\n          'light-theme': theme === THEME.LIGHT,\n          'dark-theme': theme === THEME.DARK\n        }, className),\n        style: style,\n        ref: this.player,\n        tabIndex: \"-1\"\n      }, toggle && isMobile && responsive && /*#__PURE__*/React.createElement(AudioPlayerMobile, {\n        playing: playing,\n        loading: loading,\n        name: name,\n        singer: singer,\n        cover: cover,\n        themeSwitch: ThemeSwitchComponent,\n        duration: formattedAudioDuration,\n        currentTime: formattedCurrentTime,\n        progressBar: ProgressBar,\n        onPlay: this.onTogglePlay,\n        currentPlayModeName: currentPlayModeName,\n        playMode: PlayModeComponent,\n        audioNextPlay: this.onPlayNextAudio,\n        audioPrevPlay: this.onPlayPrevAudio,\n        icon: _objectSpread(_objectSpread({}, this.iconMap), {}, {\n          reload: ReloadComponent,\n          download: DownloadComponent,\n          lyric: LyricComponent\n        }),\n        playModeTipVisible: playModeTipVisible,\n        openAudioListsPanel: this.openAudioListsPanel,\n        onClose: this.onHidePanel,\n        extendsContent: extendsContent,\n        glassBg: glassBg,\n        autoHiddenCover: autoHiddenCover,\n        onCoverClick: this.onCoverClick,\n        locale: locale,\n        toggleMode: toggleMode,\n        renderAudioTitle: this.renderAudioTitle,\n        shouldShowPlayIcon: shouldShowPlayIcon,\n        isResetCoverRotate: isResetCoverRotate\n      }), toggle ? undefined : drag ? /*#__PURE__*/React.createElement(Draggable, {\n        bounds: bounds,\n        position: {\n          x: moveX,\n          y: moveY\n        },\n        onDrag: this.onControllerDrag,\n        onStop: this.onControllerDragStop,\n        onStart: this.onControllerDragStart\n      }, AudioController) : AudioController, toggle && (!isMobile || !responsive) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-panel', 'translate', {\n          'glass-bg': glassBg\n        })\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"panel-content\"\n      }, (!autoHiddenCover || autoHiddenCover && cover) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('img-content', 'img-rotate', {\n          'img-rotate-pause': !playing || !cover,\n          'img-rotate-reset': isResetCoverRotate\n        }),\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        },\n        onClick: function onClick() {\n          return _this4.onCoverClick();\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar-content\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-title\",\n        title: audioTitle\n      }, this.renderAudioTitle()), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"audio-main\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"current-time\",\n        title: formattedCurrentTime\n      }, loading ? '--' : formattedCurrentTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\"\n      }, ProgressBar), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"duration\",\n        title: formattedAudioDuration\n      }, loading ? '--' : formattedAudioDuration))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-content\"\n      }, !showPlay ? loading && this.iconMap.loading : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group prev-audio\",\n        title: locale.previousTrackText,\n        onClick: this.onPlayPrevAudio\n      }, this.iconMap.prev), loading ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group loading-icon\",\n        title: locale.loadingText\n      }, this.iconMap.loading) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-btn\",\n        onClick: this.onTogglePlay,\n        title: shouldShowPlayIcon ? locale.clickToPlayText : locale.clickToPauseText\n      }, shouldShowPlayIcon ? this.iconMap.play : this.iconMap.pause), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group next-audio\",\n        title: locale.nextTrackText,\n        onClick: this.onPlayNextAudio\n      }, this.iconMap.next)), ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent || null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-sounds\",\n        title: locale.volumeText\n      }, soundValue === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onResetVolume\n      }, this.iconMap.mute) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onAudioMute\n      }, this.iconMap.volume), /*#__PURE__*/React.createElement(Slider, _extends({\n        value: soundValue,\n        onChange: this.onAudioSoundChange,\n        className: \"sound-operation\"\n      }, VOLUME_BAR_SLIDER_OPTIONS))), PlayModeComponent, LyricComponent, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-lists-btn\",\n        title: locale.playListsText,\n        onClick: this.openAudioListsPanel\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-icon\"\n      }, this.iconMap.playLists), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-num\"\n      }, audioLists.length)), toggleMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group hide-panel\",\n        title: locale.toggleMiniModeText,\n        onClick: this.onHidePanel\n      }, this.iconMap.toggle), DestroyComponent))), /*#__PURE__*/React.createElement(AudioListsPanel, {\n        playing: playing,\n        playId: playId,\n        loading: loading,\n        visible: audioListsPanelVisible,\n        audioLists: audioLists,\n        onPlay: this.audioListsPlay,\n        onCancel: this.closeAudioListsPanel,\n        icon: this.iconMap,\n        isMobile: isMobile,\n        panelToggleAnimate: panelToggleAnimate,\n        glassBg: glassBg,\n        cover: cover,\n        remove: remove,\n        onDelete: this.onDeleteAudioLists,\n        removeId: removeId,\n        locale: locale\n      }), !isMobile && /*#__PURE__*/React.createElement(PlayModel, {\n        visible: playModelNameVisible,\n        value: currentPlayModeName\n      }), audioLyricVisible && /*#__PURE__*/React.createElement(Draggable, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-lyric', lyricClassName)\n      }, currentLyric || locale.emptyLyricText)), /*#__PURE__*/React.createElement(\"audio\", _extends({\n        className: \"music-player-audio\",\n        title: audioTitle\n      }, preloadState, {\n        src: musicSrc,\n        ref: function ref(node) {\n          _this4.audio = node;\n        }\n      }))), container);\n    }\n  }, {\n    key: \"getBaseAudioInfo\",\n    value: // 返回给使用者的 音乐信息\n    function getBaseAudioInfo() {\n      var _this$state18 = this.state,\n          cover = _this$state18.cover,\n          name = _this$state18.name,\n          musicSrc = _this$state18.musicSrc,\n          soundValue = _this$state18.soundValue,\n          lyric = _this$state18.lyric,\n          audioLists = _this$state18.audioLists,\n          currentLyric = _this$state18.currentLyric;\n\n      var _ref16 = this.audio || {},\n          currentTime = _ref16.currentTime,\n          muted = _ref16.muted,\n          networkState = _ref16.networkState,\n          readyState = _ref16.readyState,\n          played = _ref16.played,\n          paused = _ref16.paused,\n          ended = _ref16.ended,\n          startDate = _ref16.startDate;\n\n      var currentPlayIndex = this.getCurrentPlayIndex();\n      var currentAudioListInfo = audioLists[currentPlayIndex] || {};\n      return _objectSpread(_objectSpread({}, currentAudioListInfo), {}, {\n        cover: cover,\n        name: name,\n        musicSrc: musicSrc,\n        volume: soundValue,\n        currentTime: currentTime,\n        duration: this.audioDuration,\n        muted: muted,\n        networkState: networkState,\n        readyState: readyState,\n        played: played,\n        paused: paused,\n        ended: ended,\n        startDate: startDate,\n        lyric: lyric,\n        currentLyric: currentLyric,\n        playIndex: currentPlayIndex\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      if (prevState.musicSrc !== this.state.musicSrc) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          isResetCoverRotate: true\n        });\n      }\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this5 = this;\n\n      var audioLists = nextProps.audioLists,\n          playIndex = nextProps.playIndex,\n          theme = nextProps.theme,\n          mode = nextProps.mode,\n          playMode = nextProps.playMode,\n          clearPriorAudioLists = nextProps.clearPriorAudioLists;\n      var isEqualAudioLists = arrayEqual(audioLists)(this.props.audioLists);\n\n      if (!isEqualAudioLists) {\n        if (clearPriorAudioLists) {\n          this.changeAudioLists(nextProps);\n        } else {\n          this.updateAudioLists(audioLists);\n        }\n\n        if (!this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n          this.initPlayer(audioLists, false, false);\n        }\n\n        setTimeout(function () {\n          return _this5.initSortableAudioLists();\n        }, 200);\n      }\n\n      this.updatePlayIndex(!isEqualAudioLists && clearPriorAudioLists ? DEFAULT_PLAY_INDEX : playIndex);\n      this.updateTheme(theme);\n      this.updateMode(mode);\n      this.updatePlayMode(playMode);\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this6 = this;\n\n      var _this$props6 = this.props,\n          audioLists = _this$props6.audioLists,\n          remember = _this$props6.remember;\n\n      if (Array.isArray(audioLists) && audioLists.length >= 1) {\n        var playInfo = this.getPlayInfo(audioLists);\n        var lastPlayStatus = remember ? this.getLastPlayStatus() : {};\n\n        switch (_typeof(playInfo.musicSrc)) {\n          case 'function':\n            playInfo.musicSrc().then(function (val) {\n              _this6.setState(_objectSpread(_objectSpread({}, playInfo), {}, {\n                musicSrc: val\n              }, lastPlayStatus));\n            }, this.onAudioError);\n            break;\n\n          default:\n            this.setState(_objectSpread(_objectSpread({}, playInfo), lastPlayStatus));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unInstallPlayer();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addMobileListener();\n      this.addSystemThemeListener();\n      this.initPlayer();\n      this.initSortableAudioLists();\n      this.onGetAudioInstance();\n    }\n  }]);\n\n  return ReactJkMusicPlayer;\n}(PureComponent);\n\n_defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\n  audioLists: [],\n  theme: THEME.DARK,\n  mode: MODE.MINI,\n  defaultPlayMode: PLAY_MODE.order,\n  defaultPosition: {\n    left: 0,\n    top: 0\n  },\n  once: false,\n  // onAudioPlay 事件  是否只触发一次\n  drag: true,\n  toggleMode: true,\n  // 能换在迷你 和完整模式下 互相切换\n  showMiniModeCover: true,\n  // 迷你模式下 是否显示封面图\n  showDownload: true,\n  showPlay: true,\n  showReload: true,\n  showPlayMode: true,\n  showThemeSwitch: true,\n  showLyric: false,\n  playModeTipVisible: false,\n  // 手机端切换播放模式\n  autoPlay: true,\n  defaultVolume: 1,\n  showProgressLoadBar: true,\n  // 音频预加载进度\n  seeked: true,\n  playModeShowTime: 600,\n  // 播放模式提示 显示时间,\n  bounds: 'body',\n  // mini 模式拖拽的可移动边界\n  showMiniProcessBar: false,\n  // 是否在迷你模式 显示进度条\n  loadAudioErrorPlayNext: true,\n  // 加载音频失败时 是否尝试播放下一首\n  preload: false,\n  // 是否在页面加载后立即加载音频\n  glassBg: false,\n  // 是否是毛玻璃效果\n  remember: false,\n  // 是否记住当前播放状态\n  remove: true,\n  // 音乐是否可以删除\n  defaultPlayIndex: 0,\n  // 默认播放索引\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  // 播放器挂载的节点\n  autoHiddenCover: false,\n  // 当前播放歌曲没有封面时是否自动隐藏\n  onBeforeAudioDownload: function onBeforeAudioDownload() {},\n  // 下载前转换音频地址等\n  spaceBar: false,\n  // 是否可以通过空格键 控制播放暂停\n  showDestroy: false,\n  showMediaSession: false,\n  locale: LOCALE.en_US,\n  responsive: true,\n  icon: DEFAULT_ICON,\n  quietUpdate: false,\n  // 更新后的播放列表如果有当前正在播放的歌曲不打断当前播放状态\n  mobileMediaQuery: MEDIA_QUERY.MOBILE,\n  // 音频暂停播放 淡入淡出\n  volumeFade: {\n    fadeIn: 0,\n    fadeOut: 0\n  },\n  restartCurrentOnPrev: false,\n  // https://github.com/SortableJS/Sortable#options\n  sortableOptions: {}\n});\n\n_defineProperty(ReactJkMusicPlayer, \"propTypes\", PROP_TYPES);\n\nexport { ReactJkMusicPlayer as default };","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","_typeof","obj","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","cls","download","getIsMobile","Slider","Switch","React","cloneElement","createRef","PureComponent","createPortal","Draggable","Sortable","Swap","AudioListsPanel","CircleProcessBar","AnimatePauseIcon","AnimatePlayIcon","ArrowDownIcon","CloseIcon","DeleteIcon","DownloadIcon","EmptyIcon","FaMinusSquareOIcon","LoadIcon","LoopIcon","LyricIcon","NextAudioIcon","OrderPlayIcon","PlayListsIcon","PrevAudioIcon","ReloadIcon","RepeatIcon","ShufflePlayIcon","VolumeMuteIcon","VolumeUnmuteIcon","AudioPlayerMobile","PlayModel","AUDIO_LIST_REMOVE_ANIMATE_TIME","SPACE_BAR_KEYCODE","LOCALE","MEDIA_QUERY","MODE","AUDIO_NETWORK_STATE","AUDIO_READY_STATE","PLAY_MODE","PROP_TYPES","PROGRESS_BAR_SLIDER_OPTIONS","VOLUME_BAR_SLIDER_OPTIONS","THEME","VOLUME_FADE","DEFAULT_PLAY_INDEX","DEFAULT_VOLUME","DEFAULT_REMOVE_ID","PLAYER_KEY","SORTABLE_CONFIG","LOCALE_CONFIG","Lyric","adjustVolume","arrayEqual","createRandomNum","formatTime","isSafari","uuId","mount","IS_MOBILE","DEFAULT_ICON","pause","createElement","play","destroy","close","size","toggle","lyric","volume","mute","next","prev","playLists","reload","loop","order","orderLoop","shuffle","loading","packUpPanelMobile","empty","ReactJkMusicPlayer","_PureComponent","_super","_this","audioLists","playId","initPlayId","cover","singer","musicSrc","currentLyric","isMobile","mode","FULL","playing","currentTime","soundValue","moveX","moveY","audioListsPanelVisible","playModelNameVisible","theme","darkThemeName","playMode","defaultPlayMode","currentAudioVolume","initAnimate","isInitAutoPlay","autoPlay","isInitRemember","loadedProgress","removeId","isNeedMobileHack","audioLyricVisible","isAutoPlayWhenUserClicked","playIndex","defaultPlayIndex","canPlay","currentVolumeFade","NONE","currentVolumeFadeInterval","undefined","updateIntervalEndVolume","isAudioSeeking","isResetCoverRotate","state","Math","max","min","showMiniModeCover","MINI","onCoverClick","getBaseAudioInfo","_ref","locale","audioTitle","_this$state","audio","concat","_this$state2","renderAudioTitle","getAudioTitle","setState","index","_PLAY_MODE_","findIndex","_PLAY_MODE_LENGTH_","playModeTipVisible","onPlayModeChange","clearTimeout","playModelTimer","setTimeout","playModeShowTime","animateProps","className","IconNode","iconMap","singleLoop","shufflePlay","ignore","currentPlayId","console","warn","_ref2","_ref2$lyric","loadAudio","originMusicSrc","stop","load","updateMediaSessionMetadata","initLyricParser","onAudioPlayTrackChange","onPlayIndexChange","then","onAudioError","initPlayInfo","resetAudioPlayStatus","resetAudioPlayId","onAudioListsChange","resetAudioStatus","audioId","stopPropagation","_this$state3","clearAudioLists","newAudioLists","handlePlay","_ref3","onAudioListsPanelChange","_closeAudioListsPanel","isLight","LIGHT","DARK","onThemeChange","customDownloader","baseAudioInfo","onBeforeAudioDownload","transformedDownloadAudioInfo","info","src","filename","mimeType","onAudioDownload","_ref4","x","y","_this$state4","isDrag","_ref5","_ref6","showDestroy","destroyBtn","current","contains","onDestroyPlayer","loadAndPlayAudio","onOpenPanel","setAudioVolume","getVolumeBarValue","volumeBarValue","getListeningVolume","IN","preventDefault","ele","_ele$getBoundingClien","getBoundingClientRect","left","top","pow","listeningVolume","sqrt","onAudioReload","_this$props","toggleMode","spaceBar","onModeChange","player","focus","preventScroll","onBeforeDestroy","Promise","resolve","_onDestroyPlayer","unInstallPlayer","isPlayDestroyed","onDestroyed","res","_ref7","volumeFade","fadeIn","fadeOut","_this$state5","isCurrentlyFading","OUT","clearInterval","_adjustVolume","duration","fadeOutInterval","fadeInterval","startVolume","endVolume","_adjustVolume2","fadeInInterval","_updateIntervalEndVolume","isLoaded","isAudioCanPlay","setAudioLoaded","onAudioPause","togglePlay","onAudioPlay","_this$audio","timeRanges","buffered","end","remember","_this$state6","_this$audio2","networkState","readyState","NETWORK_NO_SOURCE","NETWORK_EMPTY","reason","HAVE_FUTURE_DATA","_this$getLastPlayStat","getLastPlayStatus","isLastPause","error","_this$state7","loadAudioErrorPlayNext","isSingleLoop","currentPlayMode","isLastAudio","isNext","_this$state8","audioListsLen","currentPlayIndex","getCurrentPlayIndex","audioListsPlay","randomIndex","getPlayIndex","randomPlayId","onAudioEnded","_playMode","restartCurrentOnPrev","audioPrevAndNextBasePlayHandle","saveLastPlayStatus","onAudioProgress","_this$state9","onAudioVolumeChange","formattedVolume","parseFloat","toFixed","seek","onAudioSeeked","_this$state10","audioInfo","mergedAudioInfo","onAudioAbort","_ref8","oldIndex","newIndex","_this$state11","_audioLists","item","splice","_playId","onAudioListsSortEnd","onAudioListsDragEnd","_this$state12","lastPlayStatus","JSON","stringify","localStorage","setItem","_this$props2","status","getDefaultPlayId","parse","getItem","nextProps","_this$state13","quietUpdate","some","newAudioInfo","playPromise","document","addEventListener","mockAutoPlayForMobile","once","_this2","bindEvents","eventsNames","waiting","canplay","onAudioCanPlay","ended","onAudioEnd","timeupdate","audioTimeUpdate","volumechange","abort","progress","onSetAudioLoadedProgress","bind","_events","removeEventListener","getPlayId","_ref9","find","_ref9$name","_ref9$cover","_ref9$singer","_ref9$musicSrc","_ref9$lyric","lastAudioLists","mergedAudioLists","map","_getPlayInfo","_nextProps$audioLists","prevAudioBeforeUpdate","_ref10","cb","getPlayInfo","query","handler","media","window","matchMedia","addListener","removeListener","mobileMedia","addMatchMediaListener","mobileMediaQuery","mobileMediaHandler","removeMatchMediaListener","systemThemeMedia","DARK_THEME","systemThemeMediaHandler","_ref11","matches","_ref12","AUTO","updateTheme","_this$props3","defaultVolume","_this$getLastPlayStat2","_this$getLastPlayStat3","onLyricChange","lines","text","_ref13","lineNum","txt","onAudioLyricChange","values","includes","v","autoPlayInitLoadPlayList","getPlayInfoOfNewList","checkCurrentPlayingAudioIsInUpdatedAudioLists","resetPlayId","loadNewAudioLists","currentPlayAudio","updatePlayIndex","_assertThisInitialize","playByIndex","onPlayNextAudio","onPlayPrevAudio","onTogglePlay","sortable","_ref14","getAudioInstance","getEnhanceAudio","navigator","showMediaSession","_this$state14","mediaMetaDataConfig","title","artist","album","artwork","sizes","type","mediaSession","metadata","MediaMetadata","updateMediaSessionPositionState","_assertThisInitialize2","setPositionState","audioDuration","playbackRate","position","defaultSkipTime","setActionHandler","details","skipTime","seekOffset","event","fastSeek","seekTime","onKeyDown","keyCode","isBindKeyDownEvents","resetAudioVolume","setDefaultAudioVolume","bindUnhandledRejection","onAddMediaSession","bindMobileAutoPlayEvents","bindKeyDownEvents","bindSafariAutoPlayEvents","unBindEvents","unBindUnhandledRejection","unBindKeyDownEvents","removeMobileListener","removeLyric","_onDestroyed","playAudio","_this$props4","sortableOptions","selector","defaultOptions","container","querySelector","onEnd","targetId","get","en_US","_this$state15","_ref15","Number","_this$state16","_this3","Spin","icon","render","_this4","_this$props5","drag","style","showDownload","showPlay","showReload","showPlayMode","showThemeSwitch","extendsContent","seeked","showProgressLoadBar","bounds","defaultPosition","showMiniProcessBar","preload","glassBg","remove","lyricClassName","showLyric","getContainer","autoHiddenCover","responsive","_this$state17","preloadState","panelToggleAnimate","show","hide","currentPlayModeName","playModeText","miniModeCoverConfig","backgroundImage","formattedCurrentTime","formattedAudioDuration","progressHandler","onChange","onProgressChange","onAfterChange","ProgressBar","Fragment","width","ceil","defaultValue","DownloadComponent","onClick","downloadText","ThemeSwitchComponent","themeChange","checkedChildren","lightThemeText","unCheckedChildren","darkThemeText","checked","switchThemeText","ReloadComponent","reloadText","LyricComponent","toggleAudioLyric","toggleLyricText","PlayModeComponent","togglePlayMode","renderPlayModeIcon","miniProcessBarR","DestroyComponent","destroyText","ref","AudioController","tabIndex","r","id","controllerTitle","closeText","openText","body","shouldShowPlayIcon","themeSwitch","progressBar","onPlay","audioNextPlay","audioPrevPlay","openAudioListsPanel","onClose","onHidePanel","onDrag","onControllerDrag","onStop","onControllerDragStop","onStart","onControllerDragStart","previousTrackText","loadingText","clickToPlayText","clickToPauseText","nextTrackText","volumeText","onResetVolume","onAudioMute","onAudioSoundChange","playListsText","toggleMiniModeText","visible","onCancel","closeAudioListsPanel","onDelete","onDeleteAudioLists","emptyLyricText","node","_this$state18","_ref16","muted","played","paused","startDate","currentAudioListInfo","componentDidUpdate","_","prevState","UNSAFE_componentWillReceiveProps","_this5","clearPriorAudioLists","isEqualAudioLists","changeAudioLists","updateAudioLists","initPlayer","initSortableAudioLists","updateMode","updatePlayMode","UNSAFE_componentWillMount","_this6","_this$props6","playInfo","val","componentWillUnmount","componentDidMount","addMobileListener","addSystemThemeListener","onGetAudioInstance","MOBILE","default"],"sources":["/home/brian/w15/practice-for-week-15-react-redux-authenticate-me-long-practice-main/authenticate-me/frontend/node_modules/react-jinke-music-player/es/index.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @name react-jinke-music-player\n * @description Maybe the best beautiful HTML5 responsive player component for react :)\n * @author Jinke.Li <1359518268@qq.com>\n * @license MIT\n */\nimport cls from 'classnames';\nimport download from 'downloadjs';\nimport getIsMobile from 'is-mobile';\nimport Slider from 'rc-slider/lib/Slider';\nimport Switch from 'rc-switch';\nimport React, { cloneElement, createRef, PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport Draggable from 'react-draggable';\nimport Sortable, { Swap } from 'sortablejs';\nimport AudioListsPanel from './components/AudioListsPanel';\nimport CircleProcessBar from './components/CircleProcessBar';\nimport { AnimatePauseIcon, AnimatePlayIcon, ArrowDownIcon, CloseIcon, DeleteIcon, DownloadIcon, EmptyIcon, FaMinusSquareOIcon, LoadIcon, LoopIcon, LyricIcon, NextAudioIcon, OrderPlayIcon, PlayListsIcon, PrevAudioIcon, ReloadIcon, RepeatIcon, ShufflePlayIcon, VolumeMuteIcon, VolumeUnmuteIcon } from './components/Icon';\nimport AudioPlayerMobile from './components/PlayerMobile';\nimport PlayModel from './components/PlayModel';\nimport { AUDIO_LIST_REMOVE_ANIMATE_TIME } from './config/animate';\nimport { SPACE_BAR_KEYCODE } from './config/keycode';\nimport LOCALE from './config/locale';\nimport { MEDIA_QUERY } from './config/mediaQuery';\nimport { MODE } from './config/mode';\nimport { AUDIO_NETWORK_STATE, AUDIO_READY_STATE } from './config/audioState';\nimport PLAY_MODE from './config/playMode';\nimport PROP_TYPES from './config/propTypes';\nimport { PROGRESS_BAR_SLIDER_OPTIONS, VOLUME_BAR_SLIDER_OPTIONS } from './config/slider';\nimport { THEME } from './config/theme';\nimport { VOLUME_FADE } from './config/volumeFade';\nimport { DEFAULT_PLAY_INDEX, DEFAULT_VOLUME, DEFAULT_REMOVE_ID, PLAYER_KEY } from './config/player';\nimport SORTABLE_CONFIG from './config/sortable';\nimport LOCALE_CONFIG from './locale';\nimport Lyric from './lyric';\nimport { adjustVolume, arrayEqual, createRandomNum, formatTime, isSafari, uuId } from './utils';\nSortable.mount(new Swap());\nvar IS_MOBILE = getIsMobile();\nvar DEFAULT_ICON = {\n  pause: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n  play: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n  destroy: /*#__PURE__*/React.createElement(CloseIcon, null),\n  close: /*#__PURE__*/React.createElement(CloseIcon, null),\n  \"delete\": /*#__PURE__*/React.createElement(DeleteIcon, {\n    size: 24\n  }),\n  download: /*#__PURE__*/React.createElement(DownloadIcon, {\n    size: 26\n  }),\n  toggle: /*#__PURE__*/React.createElement(FaMinusSquareOIcon, null),\n  lyric: /*#__PURE__*/React.createElement(LyricIcon, null),\n  volume: /*#__PURE__*/React.createElement(VolumeUnmuteIcon, {\n    size: 26\n  }),\n  mute: /*#__PURE__*/React.createElement(VolumeMuteIcon, {\n    size: 26\n  }),\n  next: /*#__PURE__*/React.createElement(NextAudioIcon, null),\n  prev: /*#__PURE__*/React.createElement(PrevAudioIcon, null),\n  playLists: /*#__PURE__*/React.createElement(PlayListsIcon, null),\n  reload: /*#__PURE__*/React.createElement(ReloadIcon, {\n    size: 22\n  }),\n  loop: /*#__PURE__*/React.createElement(LoopIcon, {\n    size: 26\n  }),\n  order: /*#__PURE__*/React.createElement(OrderPlayIcon, {\n    size: 26\n  }),\n  orderLoop: /*#__PURE__*/React.createElement(RepeatIcon, {\n    size: 26\n  }),\n  shuffle: /*#__PURE__*/React.createElement(ShufflePlayIcon, {\n    size: 26\n  }),\n  loading: /*#__PURE__*/React.createElement(LoadIcon, null),\n  packUpPanelMobile: /*#__PURE__*/React.createElement(ArrowDownIcon, {\n    size: 26\n  }),\n  empty: /*#__PURE__*/React.createElement(EmptyIcon, null)\n};\n\nvar ReactJkMusicPlayer = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactJkMusicPlayer, _PureComponent);\n\n  var _super = _createSuper(ReactJkMusicPlayer);\n\n  function ReactJkMusicPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactJkMusicPlayer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      audioLists: [],\n      playId: _this.initPlayId,\n      // 播放id\n      name: '',\n      // 当前歌曲名\n      cover: '',\n      // 当前歌曲封面\n      singer: '',\n      // 当前歌手\n      musicSrc: '',\n      // 当前歌曲链\n      lyric: '',\n      // 当前歌词\n      currentLyric: '',\n      isMobile: IS_MOBILE,\n      toggle: _this.props.mode === MODE.FULL,\n      playing: false,\n      currentTime: 0,\n      soundValue: DEFAULT_VOLUME,\n      moveX: 0,\n      moveY: 0,\n      loading: false,\n      audioListsPanelVisible: false,\n      playModelNameVisible: false,\n      theme: _this.props.theme || _this.darkThemeName,\n      playMode: _this.props.playMode || _this.props.defaultPlayMode || '',\n      // 当前播放模式\n      currentAudioVolume: 0,\n      // 当前音量  静音后恢复到之前记录的音量\n      initAnimate: false,\n      isInitAutoPlay: _this.props.autoPlay,\n      isInitRemember: false,\n      loadedProgress: 0,\n      removeId: DEFAULT_REMOVE_ID,\n      isNeedMobileHack: IS_MOBILE,\n      audioLyricVisible: false,\n      isAutoPlayWhenUserClicked: false,\n      playIndex: _this.props.playIndex || _this.props.defaultPlayIndex || DEFAULT_PLAY_INDEX,\n      canPlay: false,\n      currentVolumeFade: VOLUME_FADE.NONE,\n      currentVolumeFadeInterval: undefined,\n      updateIntervalEndVolume: undefined,\n      isAudioSeeking: false,\n      isResetCoverRotate: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayIndex\", function () {\n      var playIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.playIndex;\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.audioLists;\n      return Math.max(DEFAULT_PLAY_INDEX, Math.min(audioLists.length - 1, playIndex));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCoverClick\", function () {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MODE.FULL;\n      var showMiniModeCover = _this.props.showMiniModeCover;\n      var cover = _this.state.cover;\n\n      if (!showMiniModeCover && mode === MODE.MINI) {\n        return;\n      }\n\n      if (_this.props.onCoverClick && cover) {\n        _this.props.onCoverClick(mode, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAudioTitle\", function () {\n      var _ref = _this.locale || {},\n          audioTitle = _ref.audioTitle;\n\n      var _this$state = _this.state,\n          name = _this$state.name,\n          singer = _this$state.singer;\n\n      if (typeof audioTitle === 'function' && _this.audio) {\n        return audioTitle(_this.getBaseAudioInfo());\n      }\n\n      return audioTitle || \"\".concat(name).concat(singer ? \" - \".concat(singer) : '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderAudioTitle\", function () {\n      var _this$state2 = _this.state,\n          isMobile = _this$state2.isMobile,\n          name = _this$state2.name;\n\n      if (_this.props.renderAudioTitle) {\n        return _this.props.renderAudioTitle(_this.getBaseAudioInfo(), isMobile);\n      }\n\n      return isMobile ? name : _this.getAudioTitle();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", function () {\n      _this.setState({\n        audioLyricVisible: !_this.state.audioLyricVisible\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", function () {\n      var index = _this._PLAY_MODE_.findIndex(function (mode) {\n        return mode === _this.state.playMode;\n      });\n\n      var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0] : _this._PLAY_MODE_[++index];\n\n      _this.setState({\n        playMode: playMode,\n        playModelNameVisible: true,\n        playModeTipVisible: true\n      });\n\n      _this.props.onPlayModeChange && _this.props.onPlayModeChange(playMode);\n      clearTimeout(_this.playModelTimer);\n      _this.playModelTimer = setTimeout(function () {\n        _this.setState({\n          playModelNameVisible: false,\n          playModeTipVisible: false\n        });\n      }, _this.props.playModeShowTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", function (playMode) {\n      var animateProps = {\n        className: 'react-jinke-music-player-mode-icon'\n      };\n      var IconNode = null;\n\n      switch (playMode) {\n        case PLAY_MODE.order:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n          break;\n\n        case PLAY_MODE.orderLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.orderLoop, animateProps);\n          break;\n\n        case PLAY_MODE.singleLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.loop, animateProps);\n          break;\n\n        case PLAY_MODE.shufflePlay:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.shuffle, animateProps);\n          break;\n\n        default:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n      }\n\n      return IconNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", function (playId) {\n      var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.state;\n      var currentPlayId = state.playId,\n          playing = state.playing,\n          audioLists = state.audioLists,\n          loading = state.loading,\n          canPlay = state.canPlay;\n\n      if (Array.isArray(audioLists) && audioLists.length === 0) {\n        // eslint-disable-next-line no-console\n        return console.warn('Warning: Your playlist has no songs. and cannot play !');\n      }\n\n      if (loading && playId === currentPlayId) {\n        return;\n      }\n\n      var playIndex = audioLists.findIndex(function (audio) {\n        return audio[PLAYER_KEY] === playId;\n      });\n\n      var _ref2 = audioLists[playIndex] || {},\n          name = _ref2.name,\n          cover = _ref2.cover,\n          musicSrc = _ref2.musicSrc,\n          singer = _ref2.singer,\n          _ref2$lyric = _ref2.lyric,\n          lyric = _ref2$lyric === void 0 ? '' : _ref2$lyric;\n\n      var loadAudio = function loadAudio(originMusicSrc) {\n        _this.setState({\n          name: name,\n          cover: cover,\n          musicSrc: originMusicSrc,\n          singer: singer,\n          playId: playId,\n          lyric: lyric,\n          currentTime: 0,\n          playing: false,\n          loading: true,\n          canPlay: false,\n          loadedProgress: 0,\n          playIndex: playIndex,\n          isAutoPlayWhenUserClicked: true\n        }, function () {\n          _this.lyric && _this.lyric.stop();\n\n          _this.audio.load();\n\n          _this.updateMediaSessionMetadata();\n\n          setTimeout(function () {\n            _this.initLyricParser();\n          }, 0);\n        });\n      }; // 如果点击当前项 就暂停 或者播放\n\n\n      if (playId === currentPlayId && !ignore) {\n        _this.setState({\n          playing: !playing\n        });\n\n        if (!playing) {\n          if (canPlay) {\n            _this.play();\n\n            return;\n          }\n\n          return loadAudio(musicSrc);\n        }\n\n        return _this.audio.pause();\n      }\n\n      _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\n      _this.props.onPlayIndexChange && _this.props.onPlayIndexChange(playIndex);\n\n      switch (_typeof(musicSrc)) {\n        case 'function':\n          musicSrc().then(loadAudio, _this.onAudioError);\n          break;\n\n        default:\n          loadAudio(musicSrc);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", function () {\n      _this.audio.pause();\n\n      _this.lyric && _this.lyric.stop();\n\n      _this.initPlayInfo([]);\n\n      _this.resetAudioPlayStatus();\n\n      _this.resetAudioPlayId();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioPlayId\", function () {\n      _this.setState({\n        playId: _this.initPlayId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAudioLists\", function () {\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange('', [], {});\n\n      _this.resetAudioStatus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDeleteAudioLists\", function (audioId) {\n      return function (e) {\n        e.stopPropagation(); // 如果不 传 id  删除全部\n\n        var _this$state3 = _this.state,\n            audioLists = _this$state3.audioLists,\n            playId = _this$state3.playId;\n\n        if (audioLists.length < 1) {\n          return;\n        }\n\n        _this.lyric && _this.lyric.stop();\n\n        if (!audioId) {\n          _this.clearAudioLists();\n\n          return;\n        }\n\n        var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\n          return audio[PLAYER_KEY] !== audioId;\n        }); // 触发删除动画,等动画结束 删除列表\n\n\n        _this.setState({\n          removeId: audioId\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            audioLists: newAudioLists,\n            removeId: -1\n          }, function () {\n            if (!newAudioLists.length) {\n              return _this.resetAudioStatus();\n            } // 如果删除的是当前正在播放的 顺延下一首播放\n\n\n            if (audioId === playId) {\n              _this.handlePlay(PLAY_MODE.orderLoop);\n            }\n          });\n        }, AUDIO_LIST_REMOVE_ANIMATE_TIME);\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", function () {\n      _this.setState(function (_ref3) {\n        var audioListsPanelVisible = _ref3.audioListsPanelVisible;\n        return {\n          initAnimate: true,\n          audioListsPanelVisible: !audioListsPanelVisible\n        };\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", function (e) {\n      e.stopPropagation();\n\n      _this._closeAudioListsPanel();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAudioListsPanel\", function () {\n      var audioListsPanelVisible = _this.state.audioListsPanelVisible;\n\n      _this.setState({\n        audioListsPanelVisible: false\n      });\n\n      if (audioListsPanelVisible) {\n        _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"themeChange\", function (isLight) {\n      var theme = isLight ? THEME.LIGHT : THEME.DARK;\n\n      _this.setState({\n        theme: theme\n      });\n\n      _this.props.onThemeChange && _this.props.onThemeChange(theme);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", function () {\n      var musicSrc = _this.state.musicSrc;\n\n      if (_this.state.musicSrc) {\n        var customDownloader = _this.props.customDownloader;\n\n        var baseAudioInfo = _this.getBaseAudioInfo();\n\n        var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\n\n        var transformedDownloadAudioInfo = {};\n\n        if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\n          onBeforeAudioDownload.then(function (info) {\n            var src = info.src,\n                filename = info.filename,\n                mimeType = info.mimeType;\n            transformedDownloadAudioInfo = info;\n\n            if (customDownloader) {\n              customDownloader(info);\n            } else {\n              download(src, filename, mimeType);\n            }\n          });\n        } else {\n          customDownloader ? customDownloader({\n            src: musicSrc\n          }) : download(musicSrc);\n        }\n\n        _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDrag\", function (e, _ref4) {\n      var x = _ref4.x,\n          y = _ref4.y;\n      var _this$state4 = _this.state,\n          moveX = _this$state4.moveX,\n          moveY = _this$state4.moveY;\n      _this.isDrag = true; // mousedown will trigger drag event on android devices (react-draggable) :(\n\n      if (moveX === x && moveY === y) {\n        _this.isDrag = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStart\", function (e, _ref5) {\n      var x = _ref5.x,\n          y = _ref5.y;\n      _this.isDrag = false;\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStop\", function (e, _ref6) {\n      var x = _ref6.x,\n          y = _ref6.y;\n\n      if (_this.props.showDestroy && _this.destroyBtn && _this.destroyBtn.current && _this.destroyBtn.current.contains(e.target)) {\n        _this.onDestroyPlayer();\n\n        return;\n      }\n\n      if (!_this.isDrag) {\n        if (_this.state.isNeedMobileHack) {\n          _this.loadAndPlayAudio();\n\n          _this.setState({\n            isNeedMobileHack: false\n          });\n        }\n\n        _this.onOpenPanel();\n      }\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResetVolume\", function () {\n      var currentAudioVolume = _this.state.currentAudioVolume;\n\n      _this.setAudioVolume(_this.getVolumeBarValue(currentAudioVolume || 0.1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", function (volumeBarValue) {\n      _this.audio.volume = _this.getListeningVolume(volumeBarValue);\n\n      _this.setState({\n        currentAudioVolume: volumeBarValue,\n        soundValue: volumeBarValue\n      }); // Update fade-in interval to transition to new volume\n\n\n      if (_this.state.currentVolumeFade === VOLUME_FADE.IN) {\n        _this.state.updateIntervalEndVolume && _this.state.updateIntervalEndVolume(volumeBarValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAll\", function (target) {\n      target.stopPropagation();\n      target.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", function (ele) {\n      var _ele$getBoundingClien = ele.getBoundingClientRect(),\n          left = _ele$getBoundingClien.left,\n          top = _ele$getBoundingClien.top;\n\n      return {\n        left: left,\n        top: top\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getListeningVolume\", function (volumeBarValue) {\n      return Math.pow(volumeBarValue, 2);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getVolumeBarValue\", function (listeningVolume) {\n      return Math.sqrt(listeningVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioReload\", function () {\n      if (_this.props.audioLists.length) {\n        _this.handlePlay(PLAY_MODE.singleLoop);\n\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenPanel\", function () {\n      var _this$props = _this.props,\n          toggleMode = _this$props.toggleMode,\n          spaceBar = _this$props.spaceBar;\n\n      if (toggleMode) {\n        _this.setState({\n          toggle: true\n        });\n\n        _this.props.onModeChange && _this.props.onModeChange(MODE.FULL);\n\n        if (spaceBar && _this.player.current) {\n          _this.player.current.focus({\n            preventScroll: true\n          });\n        }\n      }\n\n      _this.onCoverClick(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHidePanel\", function () {\n      _this.setState({\n        toggle: false,\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onModeChange && _this.props.onModeChange(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDestroyPlayer\", function () {\n      if (_this.props.onBeforeDestroy) {\n        var onBeforeDestroy = Promise.resolve(_this.props.onBeforeDestroy(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo()));\n\n        if (onBeforeDestroy && onBeforeDestroy.then) {\n          onBeforeDestroy.then(function () {\n            _this._onDestroyPlayer();\n          }) // ignore unhandledrejection handler\n          [\"catch\"](function () {});\n        }\n\n        return;\n      }\n\n      _this._onDestroyPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyPlayer\", function () {\n      _this.unInstallPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyed\", function () {\n      _this.setState({\n        isPlayDestroyed: true\n      });\n\n      if (_this.props.onDestroyed) {\n        _this.props.onDestroyed(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentPlayIndex\", function () {\n      return _this.state.audioLists.findIndex(function (audio) {\n        return audio[PLAYER_KEY] === _this.state.playId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioPlayStatus\", function () {\n      return new Promise(function (res) {\n        _this.setState({\n          currentTime: 0,\n          loading: false,\n          playing: false,\n          canPlay: false,\n          lyric: '',\n          currentLyric: '',\n          loadedProgress: 0,\n          playIndex: DEFAULT_PLAY_INDEX\n        }, res);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTogglePlay\", function () {\n      _this.setState({\n        isAudioSeeking: false\n      });\n\n      if (_this.state.audioLists.length >= 1) {\n        var _ref7 = _this.props.volumeFade || {},\n            fadeIn = _ref7.fadeIn,\n            fadeOut = _ref7.fadeOut;\n\n        var _this$state5 = _this.state,\n            currentVolumeFade = _this$state5.currentVolumeFade,\n            currentVolumeFadeInterval = _this$state5.currentVolumeFadeInterval;\n        var isCurrentlyFading = currentVolumeFade === VOLUME_FADE.IN || currentVolumeFade === VOLUME_FADE.OUT;\n        /**\n         * Currently in middle of fading in/out, so need to cancel the current interval and do the opposite action.\n         * E.g. if currently fading out, then we need to cancel the fade-out and do a fade-in starting at current volume.\n         */\n\n        if (isCurrentlyFading) {\n          // Clear current fade-in/out\n          clearInterval(currentVolumeFadeInterval);\n\n          _this.setState({\n            currentVolumeFadeInterval: undefined,\n            updateIntervalEndVolume: undefined\n          });\n        } // Currently playing track or in the middle of fading in\n\n\n        if (!isCurrentlyFading && _this.state.playing || currentVolumeFade === VOLUME_FADE.IN) {\n          _this.setState({\n            currentVolumeFade: VOLUME_FADE.OUT\n          }); // Fade in from current volume to 0\n\n\n          var _adjustVolume = adjustVolume(_this.audio, _this.audio.volume, 0, {\n            duration: fadeOut\n          }, function () {\n            _this.audio.pause();\n\n            _this.setState({\n              currentVolumeFade: VOLUME_FADE.NONE,\n              currentVolumeFadeInterval: undefined,\n              playing: false,\n              updateIntervalEndVolume: undefined\n            }); // Restore volume so slider does not reset to zero\n\n\n            // Restore volume so slider does not reset to zero\n            _this.audio.volume = _this.getListeningVolume(_this.state.soundValue);\n          }),\n              fadeOutInterval = _adjustVolume.fadeInterval,\n              updateIntervalEndVolume = _adjustVolume.updateIntervalEndVolume;\n\n          _this.setState({\n            currentVolumeFadeInterval: fadeOutInterval,\n            updateIntervalEndVolume: updateIntervalEndVolume\n          });\n        } else {\n          _this.setState({\n            currentVolumeFade: VOLUME_FADE.IN\n          }); // Start volume may not be 0 if interrupting a fade-out\n\n\n          var startVolume = isCurrentlyFading ? _this.audio.volume : 0;\n\n          var endVolume = _this.getListeningVolume(_this.state.soundValue);\n\n          var _adjustVolume2 = adjustVolume(_this.audio, startVolume, endVolume, {\n            duration: fadeIn\n          }, function () {\n            _this.setState({\n              currentVolumeFade: VOLUME_FADE.NONE,\n              currentVolumeFadeInterval: undefined,\n              updateIntervalEndVolume: undefined\n            }); // It's possible that the volume level in the UI has changed since beginning of fade\n\n\n            // It's possible that the volume level in the UI has changed since beginning of fade\n            _this.audio.volume = _this.getListeningVolume(_this.state.soundValue);\n          }),\n              fadeInInterval = _adjustVolume2.fadeInterval,\n              _updateIntervalEndVolume = _adjustVolume2.updateIntervalEndVolume;\n\n          _this.setState({\n            currentVolumeFadeInterval: fadeInInterval,\n            updateIntervalEndVolume: _updateIntervalEndVolume,\n            isAutoPlayWhenUserClicked: true\n          }, function () {\n            if (fadeInInterval) {\n              _this.audio.volume = startVolume;\n            }\n\n            _this.loadAndPlayAudio();\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playAudio\", function () {\n      var isLoaded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (_this.isAudioCanPlay || isLoaded) {\n        if (isLoaded) {\n          _this.setAudioLoaded();\n        }\n\n        _this.loadAndPlayAudio(isLoaded);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioLoaded\", function () {\n      _this.setState({\n        loading: false,\n        playing: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPause\", function () {\n      _this.setState({\n        playing: false\n      });\n\n      _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", function () {\n      // Audio currentTime changed will be trigger audio playing event\n      if (_this.state.isAudioSeeking) {\n        return;\n      }\n\n      _this.setState({\n        playing: true,\n        loading: false\n      });\n\n      _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetAudioLoadedProgress\", function () {\n      var _this$audio = _this.audio,\n          timeRanges = _this$audio.buffered,\n          duration = _this$audio.duration;\n\n      if (timeRanges.length && timeRanges.end) {\n        var loadedProgress = timeRanges.end(timeRanges.length - 1) / duration * 100;\n\n        _this.setState({\n          loadedProgress: loadedProgress\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", function () {\n      var isLoaded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var remember = _this.props.remember;\n      var _this$state6 = _this.state,\n          isInitRemember = _this$state6.isInitRemember,\n          musicSrc = _this$state6.musicSrc;\n      var _this$audio2 = _this.audio,\n          networkState = _this$audio2.networkState,\n          readyState = _this$audio2.readyState;\n\n      if (!musicSrc) {\n        return;\n      }\n\n      if (networkState === AUDIO_NETWORK_STATE.NETWORK_NO_SOURCE || networkState === AUDIO_NETWORK_STATE.NETWORK_EMPTY) {\n        return _this.onAudioError({\n          reason: \"\\n          [loadAndPlayAudio]: Failed to load because no supported source was found.\\n          current network status is \".concat(networkState, \".\\n        \")\n        });\n      }\n\n      _this.setState({\n        playing: false,\n        loading: true,\n        isAudioSeeking: false,\n        isResetCoverRotate: false\n      });\n\n      if (isLoaded || readyState >= AUDIO_READY_STATE.HAVE_FUTURE_DATA) {\n        var _this$getLastPlayStat = _this.getLastPlayStatus(),\n            playing = _this$getLastPlayStat.playing;\n\n        var isLastPause = remember && !isInitRemember && !playing;\n        var canPlay = remember ? !isLastPause : _this.isAudioCanPlay;\n\n        _this.setState({\n          playing: canPlay,\n          loading: false\n        }, function () {\n          if (canPlay) {\n            _this.play();\n          }\n\n          _this.setState({\n            isInitAutoPlay: true,\n            isInitRemember: true,\n            isAutoPlayWhenUserClicked: false\n          });\n        });\n      } else {\n        _this.audio.load();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioError\", function (error) {\n      var _this$state7 = _this.state,\n          playMode = _this$state7.playMode,\n          audioLists = _this$state7.audioLists,\n          playId = _this$state7.playId,\n          musicSrc = _this$state7.musicSrc;\n      var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\n      var isSingleLoop = playMode === PLAY_MODE.singleLoop;\n      var currentPlayMode = isSingleLoop ? PLAY_MODE.order : playMode;\n      _this.lyric && _this.lyric.stop(); // 如果删除歌曲或其他原因导致列表为空时\n      // 这时候会触发 https://developer.mozilla.org/en-US/docs/Web/API/MediaError\n\n      if (musicSrc) {\n        // 如果当前音乐加载出错 尝试播放下一首\n        if (loadAudioErrorPlayNext && audioLists.length) {\n          var isLastAudio = (playMode === PLAY_MODE.order || playMode === PLAY_MODE.orderLoop) && playId === audioLists[audioLists.length - 1][PLAYER_KEY];\n\n          if (!isLastAudio) {\n            _this.handlePlay(currentPlayMode, true);\n          }\n        }\n\n        _this.props.onAudioError && _this.props.onAudioError(_this.audio.error || error && error.reason || null, playId, audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (playMode) {\n      var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$state8 = _this.state,\n          playId = _this$state8.playId,\n          audioLists = _this$state8.audioLists;\n      var audioListsLen = audioLists.length;\n\n      if (!audioListsLen) {\n        return;\n      }\n\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      switch (playMode) {\n        // 顺序播放\n        case PLAY_MODE.order:\n          // 拖拽排序后 或者 正常播放 到最后一首歌 就暂停\n          if (currentPlayIndex === audioListsLen - 1) {\n            _this.audio.pause();\n\n            return;\n          }\n\n          _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1][PLAYER_KEY] : audioLists[currentPlayIndex - 1][PLAYER_KEY]);\n\n          break;\n        // 列表循环\n\n        case PLAY_MODE.orderLoop:\n          if (isNext) {\n            if (currentPlayIndex === audioListsLen - 1) {\n              return _this.audioListsPlay(audioLists[0][PLAYER_KEY]);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex + 1][PLAYER_KEY]);\n          } else {\n            if (currentPlayIndex === 0) {\n              return _this.audioListsPlay(audioLists[audioListsLen - 1][PLAYER_KEY]);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex - 1][PLAYER_KEY]);\n          }\n\n          break;\n        // 单曲循环\n\n        case PLAY_MODE.singleLoop:\n          _this.audio.currentTime = 0;\n\n          _this.audioListsPlay(playId, true);\n\n          break;\n        // 随机播放\n\n        case PLAY_MODE.shufflePlay:\n          {\n            var randomIndex = createRandomNum(0, audioListsLen - 1);\n\n            if (randomIndex === _this.getCurrentPlayIndex()) {\n              randomIndex = _this.getPlayIndex(randomIndex + 1);\n            }\n\n            var randomPlayId = (audioLists[randomIndex] || {})[PLAYER_KEY];\n\n            _this.audioListsPlay(randomPlayId, true);\n          }\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioEnd\", function () {\n      _this.props.onAudioEnded && _this.props.onAudioEnded(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n\n      _this.handlePlay(_this.state.playMode);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", function () {\n      var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var playMode = _this.state.playMode;\n      var _playMode = '';\n\n      switch (playMode) {\n        case PLAY_MODE.shufflePlay:\n          _playMode = playMode;\n          break;\n\n        default:\n          _playMode = PLAY_MODE.orderLoop;\n          break;\n      }\n\n      _this.handlePlay(_playMode, isNext);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayPrevAudio\", function () {\n      var restartCurrentOnPrev = _this.props.restartCurrentOnPrev;\n\n      if (restartCurrentOnPrev && _this.audio.currentTime > 1) {\n        _this.audio.currentTime = 0;\n        return;\n      }\n\n      _this.audioPrevAndNextBasePlayHandle(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayNextAudio\", function () {\n      _this.audioPrevAndNextBasePlayHandle(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", function () {\n      var currentTime = _this.audio.currentTime;\n\n      _this.setState({\n        currentTime: currentTime\n      });\n\n      if (_this.props.remember) {\n        _this.saveLastPlayStatus();\n      }\n\n      _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSoundChange\", function (value) {\n      _this.setAudioVolume(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", function () {\n      var volume = _this.audio.volume;\n      var _this$state9 = _this.state,\n          currentVolumeFade = _this$state9.currentVolumeFade,\n          currentAudioVolume = _this$state9.currentAudioVolume;\n\n      if (currentVolumeFade !== VOLUME_FADE.NONE || currentAudioVolume === volume) {\n        return;\n      }\n\n      var volumeBarValue = _this.getVolumeBarValue(volume);\n\n      _this.setState({\n        soundValue: volumeBarValue\n      });\n\n      if (_this.props.onAudioVolumeChange) {\n        var formattedVolume = parseFloat(volume.toFixed(4));\n\n        _this.props.onAudioVolumeChange(formattedVolume);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onProgressChange\", function (currentTime) {\n      if (_this.audio) {\n        _this.audio.currentTime = currentTime;\n      }\n\n      _this.setState({\n        currentTime: currentTime,\n        isAudioSeeking: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", function (currentTime) {\n      _this.setState({\n        isAudioSeeking: true\n      });\n\n      if (!_this.state.audioLists.length) {\n        return;\n      }\n\n      _this.lyric && _this.lyric.seek(currentTime * 1000);\n\n      if (!_this.state.playing) {\n        _this.lyric && _this.lyric.stop();\n      }\n\n      if (_this.audio) {\n        _this.audio.currentTime = currentTime;\n      }\n\n      _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n      setTimeout(function () {\n        _this.setState({\n          isAudioSeeking: false\n        });\n      }, 500);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioMute\", function () {\n      _this.setState({\n        soundValue: 0,\n        currentAudioVolume: _this.audio.volume\n      }, function () {\n        _this.audio.volume = 0;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", function (e) {\n      var _this$state10 = _this.state,\n          audioLists = _this$state10.audioLists,\n          playId = _this$state10.playId;\n\n      var audioInfo = _this.getBaseAudioInfo();\n\n      var mergedAudioInfo = _objectSpread(_objectSpread({}, e), audioInfo);\n\n      _this.props.onAudioAbort && _this.props.onAudioAbort(playId, audioLists, mergedAudioInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMode\", function (mode) {\n      if (mode === MODE.FULL) {\n        _this.setState({\n          toggle: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleTheme\", function (theme) {\n      _this.setState({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioListsSortEnd\", function (_ref8) {\n      var oldIndex = _ref8.oldIndex,\n          newIndex = _ref8.newIndex;\n\n      if (oldIndex === newIndex) {\n        return;\n      }\n\n      var _this$state11 = _this.state,\n          playId = _this$state11.playId,\n          audioLists = _this$state11.audioLists;\n\n      var _audioLists = _toConsumableArray(audioLists);\n\n      var item = _audioLists.splice(oldIndex, 1)[0];\n\n      _audioLists.splice(newIndex, 0, item); // 如果拖动正在播放的歌曲 播放Id 等于 拖动后的index\n\n\n      var _playId = oldIndex === playId ? newIndex : playId;\n\n      _this.setState({\n        audioLists: _audioLists,\n        playId: _playId\n      });\n\n      _this.props.onAudioListsSortEnd && _this.props.onAudioListsSortEnd(oldIndex, newIndex);\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo()); // TODO: remove\n\n      if (_this.props.onAudioListsDragEnd) {\n        // eslint-disable-next-line no-console\n        console.warn('[Deprecated] onAudioListsDragEnd is deprecated. please use onAudioListsSortEnd(oldIndex, newIndex){}');\n\n        _this.props.onAudioListsDragEnd(oldIndex, newIndex);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", function () {\n      var _this$state12 = _this.state,\n          currentTime = _this$state12.currentTime,\n          playId = _this$state12.playId,\n          theme = _this$state12.theme,\n          soundValue = _this$state12.soundValue,\n          playMode = _this$state12.playMode,\n          name = _this$state12.name,\n          cover = _this$state12.cover,\n          singer = _this$state12.singer,\n          musicSrc = _this$state12.musicSrc;\n      var lastPlayStatus = JSON.stringify({\n        currentTime: currentTime,\n        playId: playId,\n        theme: theme,\n        playMode: playMode,\n        soundValue: soundValue,\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc\n      });\n      localStorage.setItem('lastPlayStatus', lastPlayStatus);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", function () {\n      var _this$props2 = _this.props,\n          theme = _this$props2.theme,\n          defaultPlayMode = _this$props2.defaultPlayMode,\n          playMode = _this$props2.playMode,\n          defaultPlayIndex = _this$props2.defaultPlayIndex,\n          playIndex = _this$props2.playIndex;\n      var status = {\n        currentTime: 0,\n        playMode: playMode || defaultPlayMode || PLAY_MODE.order,\n        name: '',\n        cover: '',\n        singer: '',\n        musicSrc: '',\n        lyric: '',\n        playId: _this.getDefaultPlayId(),\n        theme: theme,\n        playing: true,\n        playIndex: playIndex || defaultPlayIndex || 0\n      };\n\n      try {\n        return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\n      } catch (error) {\n        return status;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkCurrentPlayingAudioIsInUpdatedAudioLists\", function () {\n      var nextProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$state13 = _this.state,\n          playId = _this$state13.playId,\n          musicSrc = _this$state13.musicSrc;\n\n      if (!nextProps.quietUpdate || !Array.isArray(nextProps.audioLists)) {\n        return false;\n      }\n\n      return playId && nextProps.audioLists.some(function (newAudioInfo) {\n        return newAudioInfo[PLAYER_KEY] === playId || newAudioInfo.musicSrc === musicSrc;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"play\", function () {\n      // https://developers.google.com/web/updates/2017/06/play-request-was-interrupted\n      var playPromise = _this.audio.play();\n\n      if (playPromise && playPromise.then) {\n        playPromise.then(function () {\n          _this.setState({\n            loading: false,\n            playing: true\n          });\n        })[\"catch\"](function () {\n          _this.setState({\n            loading: false,\n            playing: false\n          });\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", function () {\n      if (_this.props.autoPlay && !_this.state.playing) {\n        _this.audio.load();\n\n        _this.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", function () {\n      document.addEventListener('touchstart', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      }); // 监听微信准备就绪事件\n\n      document.addEventListener('WeixinJSBridgeReady', function () {\n        _this.mockAutoPlayForMobile();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", function () {\n      document.addEventListener('click', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindEvents\", function () {\n      var _this2;\n\n      (_this2 = _this).bindEvents.apply(_this2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindEvents\", function () {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\n      var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        waiting: _this.loadAndPlayAudio,\n        canplay: _this.onAudioCanPlay,\n        error: _this.onAudioError,\n        ended: _this.onAudioEnd,\n        pause: _this.onAudioPause,\n        play: _this.onAudioPlay,\n        timeupdate: _this.audioTimeUpdate,\n        volumechange: _this.onAudioVolumeChange,\n        abort: _this.onAudioAbort,\n        progress: _this.onSetAudioLoadedProgress\n      };\n      var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var once = _this.props.once;\n\n      for (var name in eventsNames) {\n        var _events = eventsNames[name];\n\n        if (target) {\n          bind ? target.addEventListener(name, _events, {\n            once: !!(once && name === 'play')\n          }) : target.removeEventListener(name, _events);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.audioLists;\n\n      var playIndex = _this.getPlayIndex(undefined, audioLists);\n\n      var playId = _this.state.playId || audioLists[playIndex] && audioLists[playIndex][PLAYER_KEY];\n      return playId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var playId = _this.getPlayId(audioLists);\n\n      var _ref9 = audioLists.find(function (audio) {\n        return audio[PLAYER_KEY] === playId;\n      }) || {},\n          _ref9$name = _ref9.name,\n          name = _ref9$name === void 0 ? '' : _ref9$name,\n          _ref9$cover = _ref9.cover,\n          cover = _ref9$cover === void 0 ? '' : _ref9$cover,\n          _ref9$singer = _ref9.singer,\n          singer = _ref9$singer === void 0 ? '' : _ref9$singer,\n          _ref9$musicSrc = _ref9.musicSrc,\n          musicSrc = _ref9$musicSrc === void 0 ? '' : _ref9$musicSrc,\n          _ref9$lyric = _ref9.lyric,\n          lyric = _ref9$lyric === void 0 ? '' : _ref9$lyric;\n\n      return {\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        lyric: lyric,\n        audioLists: audioLists,\n        playId: playId\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var newAudioLists = audioLists.filter(function (audio) {\n        return !audio[PLAYER_KEY];\n      });\n      var lastAudioLists = audioLists.filter(function (audio) {\n        return audio[PLAYER_KEY];\n      });\n      var mergedAudioLists = [].concat(_toConsumableArray(lastAudioLists), _toConsumableArray(newAudioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, _defineProperty({}, PLAYER_KEY, uuId()));\n      })));\n      return _this._getPlayInfo(mergedAudioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfoOfNewList\", function (nextProps) {\n      var _nextProps$audioLists = nextProps.audioLists,\n          audioLists = _nextProps$audioLists === void 0 ? [] : _nextProps$audioLists;\n\n      var _audioLists = audioLists.map(function (info) {\n        var prevAudioBeforeUpdate = nextProps.quietUpdate && _this.state.audioLists.find(function (_ref10) {\n          var musicSrc = _ref10.musicSrc;\n          return musicSrc === info.musicSrc;\n        }) || {};\n        return _objectSpread(_objectSpread({}, info), {}, _defineProperty({}, PLAYER_KEY, prevAudioBeforeUpdate[PLAYER_KEY] || uuId()));\n      });\n\n      return _this._getPlayInfo(_audioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", function (audioLists, cb) {\n      var info = _this.getPlayInfo(audioLists);\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (originMusicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, info), {}, {\n              musicSrc: originMusicSrc\n            }), cb);\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(info, cb);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMatchMediaListener\", function (query, handler) {\n      var media = window.matchMedia(query);\n      handler(media);\n\n      if ('addEventListener' in media) {\n        media.addEventListener('change', handler);\n      } else {\n        media.addListener(handler);\n      }\n\n      return media;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMatchMediaListener\", function (media, handler) {\n      if (media) {\n        if ('removeEventListener' in media) {\n          media.removeEventListener('change', handler);\n        } else {\n          media.removeListener && media.removeListener(handler);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMobileListener\", function () {\n      _this.mobileMedia = _this.addMatchMediaListener(_this.props.mobileMediaQuery, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMobileListener\", function () {\n      _this.removeMatchMediaListener(_this.mobileMedia, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addSystemThemeListener\", function () {\n      _this.systemThemeMedia = _this.addMatchMediaListener(MEDIA_QUERY.DARK_THEME, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeSystemThemeListener\", function () {\n      _this.removeMatchMediaListener(_this.systemThemeMedia, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mobileMediaHandler\", function (_ref11) {\n      var matches = _ref11.matches;\n\n      _this.setState({\n        isMobile: !!matches\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"systemThemeMediaHandler\", function (_ref12) {\n      var matches = _ref12.matches;\n\n      if (_this.props.theme === THEME.AUTO) {\n        var theme = matches ? THEME.DARK : THEME.LIGHT;\n\n        _this.updateTheme(theme);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", function () {\n      var _this$props3 = _this.props,\n          defaultVolume = _this$props3.defaultVolume,\n          remember = _this$props3.remember; // 音量 [0-1]\n\n      _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 1));\n\n      var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\n          _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\n          soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\n\n      _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n\n      var playIndex = _this.getPlayIndex();\n\n      return audioLists[playIndex] && audioLists[playIndex][PLAYER_KEY];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initLyricParser\", function () {\n      _this.lyric = new Lyric(_this.state.lyric, _this.onLyricChange);\n\n      _this.setState({\n        currentLyric: _this.lyric.lines[0] && _this.lyric.lines[0].text\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLyricChange\", function (_ref13) {\n      var lineNum = _ref13.lineNum,\n          txt = _ref13.txt;\n\n      _this.setState({\n        currentLyric: txt\n      });\n\n      _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTheme\", function (theme) {\n      if (theme && theme !== _this.props.theme && Object.values(THEME).includes(theme)) {\n        _this.setState({\n          theme: theme\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMode\", function (mode) {\n      if (mode && mode !== _this.props.mode && Object.values(MODE).includes(mode)) {\n        _this.setState({\n          toggle: mode === MODE.FULL\n        });\n\n        if (mode === MODE.MINI) {\n          _this._closeAudioListsPanel();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayMode\", function (playMode) {\n      if (!Object.values(PLAY_MODE).includes(playMode)) {\n        return;\n      }\n\n      if (playMode !== _this.props.playMode) {\n        _this.setState({\n          playMode: playMode\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", function (audioLists) {\n      var newAudioLists = [].concat(_toConsumableArray(_this.state.audioLists), _toConsumableArray(audioLists.filter(function (audio) {\n        return _this.state.audioLists.findIndex(function (v) {\n          return v.musicSrc === audio.musicSrc;\n        }) === -1;\n      })));\n\n      _this.initPlayInfo(newAudioLists);\n\n      _this.bindEvents(_this.audio);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNewAudioLists\", function (nextProps) {\n      var audioLists = nextProps.audioLists,\n          remember = nextProps.remember,\n          playMode = nextProps.playMode,\n          theme = nextProps.theme,\n          autoPlayInitLoadPlayList = nextProps.autoPlayInitLoadPlayList,\n          playIndex = nextProps.playIndex;\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      var info = _this.getPlayInfoOfNewList(nextProps);\n\n      var lastPlayStatus = remember ? _this.getLastPlayStatus() : {\n        playMode: playMode || PLAY_MODE.order,\n        playIndex: playIndex || DEFAULT_PLAY_INDEX\n      };\n\n      if (theme !== THEME.AUTO) {\n        lastPlayStatus.theme = theme;\n      }\n\n      var audioInfo = _objectSpread(_objectSpread(_objectSpread({}, info), lastPlayStatus), {}, {\n        isInitAutoPlay: autoPlayInitLoadPlayList,\n        playing: _this.isAudioCanPlay\n      });\n\n      if (_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.setState({\n          audioLists: info.audioLists\n        });\n\n        return;\n      }\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (musicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, audioInfo), {}, {\n              musicSrc: musicSrc\n            }));\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(audioInfo);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPlayId\", function () {\n      return new Promise(function (res) {\n        _this.setState({\n          playId: _this.initPlayId\n        }, res);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeAudioLists\", function (nextProps) {\n      if (!_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.resetAudioStatus();\n      }\n\n      _this.resetPlayId().then(function () {\n        _this.loadNewAudioLists(nextProps);\n\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, nextProps.audioLists, _this.getBaseAudioInfo());\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", function (playIndex) {\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      if (playIndex !== undefined && currentPlayIndex !== playIndex) {\n        _this.resetAudioPlayStatus().then(function () {\n          var currentPlayAudio = _this.state.audioLists[_this.getPlayIndex(playIndex)];\n\n          if (currentPlayAudio && currentPlayAudio[PLAYER_KEY]) {\n            _this.audioListsPlay(currentPlayAudio[PLAYER_KEY], true);\n          }\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playByIndex\", function (index) {\n      _this.updatePlayIndex(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getEnhanceAudio\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          audio = _assertThisInitialize.audio;\n\n      [{\n        name: 'destroy',\n        value: _this.onDestroyPlayer\n      }, {\n        name: 'updatePlayIndex',\n        value: _this.updatePlayIndex\n      }, {\n        name: 'playByIndex',\n        value: _this.playByIndex\n      }, {\n        name: 'playNext',\n        value: _this.onPlayNextAudio\n      }, {\n        name: 'playPrev',\n        value: _this.onPlayPrevAudio\n      }, {\n        name: 'togglePlay',\n        value: _this.onTogglePlay\n      }, {\n        name: 'clear',\n        value: _this.clearAudioLists\n      }, {\n        name: 'sortable',\n        value: _this.sortable\n      }].forEach(function (_ref14) {\n        var name = _ref14.name,\n            value = _ref14.value;\n        Object.defineProperty(audio, name, {\n          value: value,\n          writable: false\n        });\n      });\n      return audio;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", function () {\n      if (_this.props.getAudioInstance) {\n        _this.props.getAudioInstance(_this.getEnhanceAudio());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionMetadata\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var _this$state14 = _this.state,\n            name = _this$state14.name,\n            cover = _this$state14.cover,\n            singer = _this$state14.singer;\n        var mediaMetaDataConfig = {\n          title: name,\n          artist: singer,\n          album: name\n        };\n\n        if (cover) {\n          mediaMetaDataConfig.artwork = ['96x96', '128x128', '192x192', '256x256', '384x384', '512x512'].map(function (size) {\n            return {\n              src: cover,\n              sizes: size,\n              type: 'image/png'\n            };\n          });\n        }\n\n        navigator.mediaSession.metadata = new MediaMetadata(mediaMetaDataConfig);\n\n        _this.updateMediaSessionPositionState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionPositionState\", function () {\n      if ('setPositionState' in navigator.mediaSession) {\n        try {\n          var _assertThisInitialize2 = _assertThisInitialized(_this),\n              audio = _assertThisInitialize2.audio;\n\n          navigator.mediaSession.setPositionState({\n            duration: _this.audioDuration,\n            playbackRate: audio.playbackRate || 1,\n            position: audio.currentTime || 0\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.error('Update media session position state failed: ', error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddMediaSession\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var defaultSkipTime = 10;\n        navigator.mediaSession.setActionHandler('play', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('pause', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('seekbackward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.max(_this.audio.currentTime - skipTime, 0);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('seekforward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.min(_this.audio.currentTime + skipTime, _this.audioDuration);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('previoustrack', _this.onPlayPrevAudio);\n        navigator.mediaSession.setActionHandler('nexttrack', _this.onPlayNextAudio);\n        setTimeout(function () {\n          _this.updateMediaSessionMetadata();\n        }, 0);\n\n        try {\n          navigator.mediaSession.setActionHandler('seekto', function (event) {\n            if (event.fastSeek && 'fastSeek' in _this.audio) {\n              _this.audio.fastSeek(event.seekTime);\n\n              return;\n            }\n\n            _this.audio.currentTime = event.seekTime;\n\n            _this.updateMediaSessionPositionState();\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.warn('Warning! The \"seekto\" media session action is not supported.');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", function () {\n      window.addEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", function () {\n      window.removeEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindKeyDownEvents\", function () {\n      if (_this.props.spaceBar && _this.player.current) {\n        _this.player.current.addEventListener('keydown', _this.onKeyDown, false);\n\n        _this.player.current.focus({\n          preventScroll: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindKeyDownEvents\", function () {\n      if (_this.player.current) {\n        _this.player.current.removeEventListener('keydown', _this.onKeyDown, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var spaceBar = _this.props.spaceBar;\n\n      if (spaceBar && e.keyCode === SPACE_BAR_KEYCODE) {\n        _this.onTogglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayer\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n      var isBindKeyDownEvents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var resetAudioVolume = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (resetAudioVolume) {\n        _this.setDefaultAudioVolume();\n      }\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      _this.bindUnhandledRejection();\n\n      _this.bindEvents(_this.audio);\n\n      _this.initLyricParser();\n\n      _this.onAddMediaSession();\n\n      if (IS_MOBILE) {\n        _this.bindMobileAutoPlayEvents();\n      } else {\n        if (isBindKeyDownEvents) {\n          _this.bindKeyDownEvents();\n        }\n\n        if (isSafari()) {\n          _this.bindSafariAutoPlayEvents();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeLyric\", function () {\n      if (_this.lyric) {\n        _this.lyric.stop();\n\n        _this.lyric = undefined;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unInstallPlayer\", function () {\n      _this.unBindEvents(_this.audio, undefined, false);\n\n      _this.unBindUnhandledRejection();\n\n      _this.unBindKeyDownEvents();\n\n      _this.removeMobileListener();\n\n      _this.removeLyric();\n\n      _this._onDestroyed();\n\n      _this.sortable && _this.sortable.destroy();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioCanPlay\", function () {\n      if (_this.state.isAudioSeeking) {\n        return;\n      }\n\n      _this.setState({\n        canPlay: true\n      }, function () {\n        _this.playAudio(true);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initSortableAudioLists\", function () {\n      var _this$props4 = _this.props,\n          audioLists = _this$props4.audioLists,\n          sortableOptions = _this$props4.sortableOptions;\n\n      var selector = SORTABLE_CONFIG.selector,\n          defaultOptions = _objectWithoutProperties(SORTABLE_CONFIG, [\"selector\"]);\n\n      var container = document.querySelector(\".\".concat(selector));\n\n      if (Array.isArray(audioLists) && !audioLists.length || !container) {\n        return;\n      }\n\n      if (_this.sortable) {\n        _this.sortable.destroy();\n      }\n\n      _this.sortable = new Sortable(container, _objectSpread(_objectSpread({\n        onEnd: _this.onAudioListsSortEnd\n      }, defaultOptions), sortableOptions));\n    });\n\n    _this.audio = null;\n    _this.targetId = 'music-player-controller';\n    _this._PLAY_MODE_ = Object.values(PLAY_MODE);\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\n    _this.player = /*#__PURE__*/createRef();\n    _this.destroyBtn = /*#__PURE__*/createRef();\n    return _this;\n  }\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"locale\",\n    get: // 初始播放id\n    function get() {\n      var locale = this.props.locale;\n\n      if (typeof locale === 'string') {\n        return LOCALE_CONFIG[this.props.locale];\n      }\n\n      return locale ? _objectSpread(_objectSpread({}, LOCALE_CONFIG[LOCALE.en_US]), locale) : {};\n    }\n  }, {\n    key: \"audioDuration\",\n    get: function get() {\n      var _this$state15 = this.state,\n          audioLists = _this$state15.audioLists,\n          playId = _this$state15.playId;\n\n      if (!audioLists.length || !this.audio) {\n        return 0;\n      }\n\n      var _ref15 = audioLists.find(function (audio) {\n        return audio[PLAYER_KEY] === playId;\n      }) || {},\n          duration = _ref15.duration;\n\n      return Math.max(Number(duration) || this.audio.duration || 0, 0);\n    }\n  }, {\n    key: \"isAudioCanPlay\",\n    get: function get() {\n      var autoPlay = this.props.autoPlay;\n      var _this$state16 = this.state,\n          isInitAutoPlay = _this$state16.isInitAutoPlay,\n          isAutoPlayWhenUserClicked = _this$state16.isAutoPlayWhenUserClicked,\n          canPlay = _this$state16.canPlay;\n      return canPlay && (isInitAutoPlay || autoPlay || isAutoPlayWhenUserClicked);\n    }\n  }, {\n    key: \"iconMap\",\n    get: function get() {\n      var _this3 = this;\n\n      var Spin = function Spin() {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"loading group\"\n        }, _this3.props.icon.loading);\n      };\n\n      return _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_ICON), this.props.icon), {}, {\n        loading: /*#__PURE__*/React.createElement(Spin, null)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props5 = this.props,\n          className = _this$props5.className,\n          drag = _this$props5.drag,\n          style = _this$props5.style,\n          showDownload = _this$props5.showDownload,\n          showPlay = _this$props5.showPlay,\n          showReload = _this$props5.showReload,\n          showPlayMode = _this$props5.showPlayMode,\n          showThemeSwitch = _this$props5.showThemeSwitch,\n          toggleMode = _this$props5.toggleMode,\n          showMiniModeCover = _this$props5.showMiniModeCover,\n          extendsContent = _this$props5.extendsContent,\n          defaultPlayMode = _this$props5.defaultPlayMode,\n          seeked = _this$props5.seeked,\n          showProgressLoadBar = _this$props5.showProgressLoadBar,\n          bounds = _this$props5.bounds,\n          defaultPosition = _this$props5.defaultPosition,\n          showMiniProcessBar = _this$props5.showMiniProcessBar,\n          preload = _this$props5.preload,\n          glassBg = _this$props5.glassBg,\n          remove = _this$props5.remove,\n          lyricClassName = _this$props5.lyricClassName,\n          showLyric = _this$props5.showLyric,\n          getContainer = _this$props5.getContainer,\n          autoHiddenCover = _this$props5.autoHiddenCover,\n          showDestroy = _this$props5.showDestroy,\n          responsive = _this$props5.responsive;\n      var locale = this.locale;\n      var _this$state17 = this.state,\n          toggle = _this$state17.toggle,\n          playing = _this$state17.playing,\n          currentTime = _this$state17.currentTime,\n          soundValue = _this$state17.soundValue,\n          moveX = _this$state17.moveX,\n          moveY = _this$state17.moveY,\n          loading = _this$state17.loading,\n          audioListsPanelVisible = _this$state17.audioListsPanelVisible,\n          theme = _this$state17.theme,\n          name = _this$state17.name,\n          cover = _this$state17.cover,\n          singer = _this$state17.singer,\n          musicSrc = _this$state17.musicSrc,\n          playId = _this$state17.playId,\n          isMobile = _this$state17.isMobile,\n          playMode = _this$state17.playMode,\n          playModeTipVisible = _this$state17.playModeTipVisible,\n          playModelNameVisible = _this$state17.playModelNameVisible,\n          initAnimate = _this$state17.initAnimate,\n          loadedProgress = _this$state17.loadedProgress,\n          audioLists = _this$state17.audioLists,\n          removeId = _this$state17.removeId,\n          currentLyric = _this$state17.currentLyric,\n          audioLyricVisible = _this$state17.audioLyricVisible,\n          isPlayDestroyed = _this$state17.isPlayDestroyed,\n          isResetCoverRotate = _this$state17.isResetCoverRotate;\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\n        preload: 'auto'\n      } : {\n        preload: preload\n      };\n      var panelToggleAnimate = initAnimate ? {\n        show: audioListsPanelVisible,\n        hide: !audioListsPanelVisible\n      } : {\n        show: audioListsPanelVisible\n      };\n      var currentPlayMode = PLAY_MODE[playMode || defaultPlayMode] || PLAY_MODE.order;\n      var currentPlayModeName = locale.playModeText[currentPlayMode];\n      var miniModeCoverConfig = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        }\n      } : {};\n      var formattedCurrentTime = formatTime(currentTime);\n      var formattedAudioDuration = formatTime(this.audioDuration);\n      var progressHandler = seeked ? {\n        onChange: this.onProgressChange,\n        onAfterChange: this.onAudioSeeked\n      } : {};\n      var ProgressBar = /*#__PURE__*/React.createElement(React.Fragment, null, showProgressLoadBar && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-load-bar\",\n        style: {\n          width: \"\".concat(Math.min(loadedProgress, 100), \"%\")\n        }\n      }), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: Math.ceil(this.audioDuration),\n        defaultValue: 0,\n        value: Math.ceil(currentTime)\n      }, progressHandler, PROGRESS_BAR_SLIDER_OPTIONS)));\n      var DownloadComponent = showDownload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-download\",\n        onClick: this.onAudioDownload,\n        title: locale.downloadText\n      }, this.iconMap.download);\n      var ThemeSwitchComponent = showThemeSwitch && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group theme-switch\"\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"theme-switch-container\",\n        onChange: this.themeChange,\n        checkedChildren: locale.lightThemeText,\n        unCheckedChildren: locale.darkThemeText,\n        checked: theme === THEME.LIGHT,\n        title: locale.switchThemeText\n      }));\n      var ReloadComponent = showReload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group reload-btn\",\n        onClick: this.onAudioReload,\n        title: locale.reloadText\n      }, this.iconMap.reload);\n      var LyricComponent = showLyric && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group lyric-btn', {\n          'lyric-btn-active': audioLyricVisible\n        }),\n        onClick: this.toggleAudioLyric,\n        title: locale.toggleLyricText\n      }, this.iconMap.lyric);\n      var PlayModeComponent = showPlayMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group loop-btn'),\n        onClick: this.togglePlayMode,\n        title: locale.playModeText[currentPlayMode]\n      }, this.renderPlayModeIcon(currentPlayMode));\n      var miniProcessBarR = isMobile ? 30 : 40;\n      var DestroyComponent = showDestroy && /*#__PURE__*/React.createElement(\"span\", {\n        title: locale.destroyText,\n        className: \"group destroy-btn\",\n        ref: this.destroyBtn,\n        onClick: !drag || toggle ? this.onDestroyPlayer : undefined\n      }, this.iconMap.destroy);\n      var AudioController = /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player'),\n        style: defaultPosition,\n        tabIndex: \"-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player')\n      }, showMiniProcessBar && /*#__PURE__*/React.createElement(CircleProcessBar, {\n        progress: currentTime / this.audioDuration,\n        r: miniProcessBarR\n      }), /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: this.targetId,\n        className: cls('scale', 'music-player-controller', {\n          'music-player-playing': playing\n        })\n      }, miniModeCoverConfig, {\n        onClick: !drag ? this.onOpenPanel : undefined\n      }), loading ? this.iconMap.loading : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"controller-title\"\n      }, locale.controllerTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"music-player-controller-setting\"\n      }, toggle ? locale.closeText : locale.openText))), DestroyComponent));\n      var container = getContainer() || document.body;\n      var audioTitle = this.getAudioTitle();\n\n      if (isPlayDestroyed) {\n        return null;\n      }\n\n      var shouldShowPlayIcon = !playing || this.state.currentVolumeFade === VOLUME_FADE.OUT;\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player-main', {\n          'light-theme': theme === THEME.LIGHT,\n          'dark-theme': theme === THEME.DARK\n        }, className),\n        style: style,\n        ref: this.player,\n        tabIndex: \"-1\"\n      }, toggle && isMobile && responsive && /*#__PURE__*/React.createElement(AudioPlayerMobile, {\n        playing: playing,\n        loading: loading,\n        name: name,\n        singer: singer,\n        cover: cover,\n        themeSwitch: ThemeSwitchComponent,\n        duration: formattedAudioDuration,\n        currentTime: formattedCurrentTime,\n        progressBar: ProgressBar,\n        onPlay: this.onTogglePlay,\n        currentPlayModeName: currentPlayModeName,\n        playMode: PlayModeComponent,\n        audioNextPlay: this.onPlayNextAudio,\n        audioPrevPlay: this.onPlayPrevAudio,\n        icon: _objectSpread(_objectSpread({}, this.iconMap), {}, {\n          reload: ReloadComponent,\n          download: DownloadComponent,\n          lyric: LyricComponent\n        }),\n        playModeTipVisible: playModeTipVisible,\n        openAudioListsPanel: this.openAudioListsPanel,\n        onClose: this.onHidePanel,\n        extendsContent: extendsContent,\n        glassBg: glassBg,\n        autoHiddenCover: autoHiddenCover,\n        onCoverClick: this.onCoverClick,\n        locale: locale,\n        toggleMode: toggleMode,\n        renderAudioTitle: this.renderAudioTitle,\n        shouldShowPlayIcon: shouldShowPlayIcon,\n        isResetCoverRotate: isResetCoverRotate\n      }), toggle ? undefined : drag ? /*#__PURE__*/React.createElement(Draggable, {\n        bounds: bounds,\n        position: {\n          x: moveX,\n          y: moveY\n        },\n        onDrag: this.onControllerDrag,\n        onStop: this.onControllerDragStop,\n        onStart: this.onControllerDragStart\n      }, AudioController) : AudioController, toggle && (!isMobile || !responsive) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-panel', 'translate', {\n          'glass-bg': glassBg\n        })\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"panel-content\"\n      }, (!autoHiddenCover || autoHiddenCover && cover) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('img-content', 'img-rotate', {\n          'img-rotate-pause': !playing || !cover,\n          'img-rotate-reset': isResetCoverRotate\n        }),\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        },\n        onClick: function onClick() {\n          return _this4.onCoverClick();\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar-content\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-title\",\n        title: audioTitle\n      }, this.renderAudioTitle()), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"audio-main\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"current-time\",\n        title: formattedCurrentTime\n      }, loading ? '--' : formattedCurrentTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\"\n      }, ProgressBar), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"duration\",\n        title: formattedAudioDuration\n      }, loading ? '--' : formattedAudioDuration))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-content\"\n      }, !showPlay ? loading && this.iconMap.loading : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group prev-audio\",\n        title: locale.previousTrackText,\n        onClick: this.onPlayPrevAudio\n      }, this.iconMap.prev), loading ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group loading-icon\",\n        title: locale.loadingText\n      }, this.iconMap.loading) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-btn\",\n        onClick: this.onTogglePlay,\n        title: shouldShowPlayIcon ? locale.clickToPlayText : locale.clickToPauseText\n      }, shouldShowPlayIcon ? this.iconMap.play : this.iconMap.pause), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group next-audio\",\n        title: locale.nextTrackText,\n        onClick: this.onPlayNextAudio\n      }, this.iconMap.next)), ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent || null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-sounds\",\n        title: locale.volumeText\n      }, soundValue === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onResetVolume\n      }, this.iconMap.mute) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onAudioMute\n      }, this.iconMap.volume), /*#__PURE__*/React.createElement(Slider, _extends({\n        value: soundValue,\n        onChange: this.onAudioSoundChange,\n        className: \"sound-operation\"\n      }, VOLUME_BAR_SLIDER_OPTIONS))), PlayModeComponent, LyricComponent, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-lists-btn\",\n        title: locale.playListsText,\n        onClick: this.openAudioListsPanel\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-icon\"\n      }, this.iconMap.playLists), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-num\"\n      }, audioLists.length)), toggleMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group hide-panel\",\n        title: locale.toggleMiniModeText,\n        onClick: this.onHidePanel\n      }, this.iconMap.toggle), DestroyComponent))), /*#__PURE__*/React.createElement(AudioListsPanel, {\n        playing: playing,\n        playId: playId,\n        loading: loading,\n        visible: audioListsPanelVisible,\n        audioLists: audioLists,\n        onPlay: this.audioListsPlay,\n        onCancel: this.closeAudioListsPanel,\n        icon: this.iconMap,\n        isMobile: isMobile,\n        panelToggleAnimate: panelToggleAnimate,\n        glassBg: glassBg,\n        cover: cover,\n        remove: remove,\n        onDelete: this.onDeleteAudioLists,\n        removeId: removeId,\n        locale: locale\n      }), !isMobile && /*#__PURE__*/React.createElement(PlayModel, {\n        visible: playModelNameVisible,\n        value: currentPlayModeName\n      }), audioLyricVisible && /*#__PURE__*/React.createElement(Draggable, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-lyric', lyricClassName)\n      }, currentLyric || locale.emptyLyricText)), /*#__PURE__*/React.createElement(\"audio\", _extends({\n        className: \"music-player-audio\",\n        title: audioTitle\n      }, preloadState, {\n        src: musicSrc,\n        ref: function ref(node) {\n          _this4.audio = node;\n        }\n      }))), container);\n    }\n  }, {\n    key: \"getBaseAudioInfo\",\n    value: // 返回给使用者的 音乐信息\n    function getBaseAudioInfo() {\n      var _this$state18 = this.state,\n          cover = _this$state18.cover,\n          name = _this$state18.name,\n          musicSrc = _this$state18.musicSrc,\n          soundValue = _this$state18.soundValue,\n          lyric = _this$state18.lyric,\n          audioLists = _this$state18.audioLists,\n          currentLyric = _this$state18.currentLyric;\n\n      var _ref16 = this.audio || {},\n          currentTime = _ref16.currentTime,\n          muted = _ref16.muted,\n          networkState = _ref16.networkState,\n          readyState = _ref16.readyState,\n          played = _ref16.played,\n          paused = _ref16.paused,\n          ended = _ref16.ended,\n          startDate = _ref16.startDate;\n\n      var currentPlayIndex = this.getCurrentPlayIndex();\n      var currentAudioListInfo = audioLists[currentPlayIndex] || {};\n      return _objectSpread(_objectSpread({}, currentAudioListInfo), {}, {\n        cover: cover,\n        name: name,\n        musicSrc: musicSrc,\n        volume: soundValue,\n        currentTime: currentTime,\n        duration: this.audioDuration,\n        muted: muted,\n        networkState: networkState,\n        readyState: readyState,\n        played: played,\n        paused: paused,\n        ended: ended,\n        startDate: startDate,\n        lyric: lyric,\n        currentLyric: currentLyric,\n        playIndex: currentPlayIndex\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      if (prevState.musicSrc !== this.state.musicSrc) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          isResetCoverRotate: true\n        });\n      }\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this5 = this;\n\n      var audioLists = nextProps.audioLists,\n          playIndex = nextProps.playIndex,\n          theme = nextProps.theme,\n          mode = nextProps.mode,\n          playMode = nextProps.playMode,\n          clearPriorAudioLists = nextProps.clearPriorAudioLists;\n      var isEqualAudioLists = arrayEqual(audioLists)(this.props.audioLists);\n\n      if (!isEqualAudioLists) {\n        if (clearPriorAudioLists) {\n          this.changeAudioLists(nextProps);\n        } else {\n          this.updateAudioLists(audioLists);\n        }\n\n        if (!this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n          this.initPlayer(audioLists, false, false);\n        }\n\n        setTimeout(function () {\n          return _this5.initSortableAudioLists();\n        }, 200);\n      }\n\n      this.updatePlayIndex(!isEqualAudioLists && clearPriorAudioLists ? DEFAULT_PLAY_INDEX : playIndex);\n      this.updateTheme(theme);\n      this.updateMode(mode);\n      this.updatePlayMode(playMode);\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this6 = this;\n\n      var _this$props6 = this.props,\n          audioLists = _this$props6.audioLists,\n          remember = _this$props6.remember;\n\n      if (Array.isArray(audioLists) && audioLists.length >= 1) {\n        var playInfo = this.getPlayInfo(audioLists);\n        var lastPlayStatus = remember ? this.getLastPlayStatus() : {};\n\n        switch (_typeof(playInfo.musicSrc)) {\n          case 'function':\n            playInfo.musicSrc().then(function (val) {\n              _this6.setState(_objectSpread(_objectSpread({}, playInfo), {}, {\n                musicSrc: val\n              }, lastPlayStatus));\n            }, this.onAudioError);\n            break;\n\n          default:\n            this.setState(_objectSpread(_objectSpread({}, playInfo), lastPlayStatus));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unInstallPlayer();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addMobileListener();\n      this.addSystemThemeListener();\n      this.initPlayer();\n      this.initSortableAudioLists();\n      this.onGetAudioInstance();\n    }\n  }]);\n\n  return ReactJkMusicPlayer;\n}(PureComponent);\n\n_defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\n  audioLists: [],\n  theme: THEME.DARK,\n  mode: MODE.MINI,\n  defaultPlayMode: PLAY_MODE.order,\n  defaultPosition: {\n    left: 0,\n    top: 0\n  },\n  once: false,\n  // onAudioPlay 事件  是否只触发一次\n  drag: true,\n  toggleMode: true,\n  // 能换在迷你 和完整模式下 互相切换\n  showMiniModeCover: true,\n  // 迷你模式下 是否显示封面图\n  showDownload: true,\n  showPlay: true,\n  showReload: true,\n  showPlayMode: true,\n  showThemeSwitch: true,\n  showLyric: false,\n  playModeTipVisible: false,\n  // 手机端切换播放模式\n  autoPlay: true,\n  defaultVolume: 1,\n  showProgressLoadBar: true,\n  // 音频预加载进度\n  seeked: true,\n  playModeShowTime: 600,\n  // 播放模式提示 显示时间,\n  bounds: 'body',\n  // mini 模式拖拽的可移动边界\n  showMiniProcessBar: false,\n  // 是否在迷你模式 显示进度条\n  loadAudioErrorPlayNext: true,\n  // 加载音频失败时 是否尝试播放下一首\n  preload: false,\n  // 是否在页面加载后立即加载音频\n  glassBg: false,\n  // 是否是毛玻璃效果\n  remember: false,\n  // 是否记住当前播放状态\n  remove: true,\n  // 音乐是否可以删除\n  defaultPlayIndex: 0,\n  // 默认播放索引\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  // 播放器挂载的节点\n  autoHiddenCover: false,\n  // 当前播放歌曲没有封面时是否自动隐藏\n  onBeforeAudioDownload: function onBeforeAudioDownload() {},\n  // 下载前转换音频地址等\n  spaceBar: false,\n  // 是否可以通过空格键 控制播放暂停\n  showDestroy: false,\n  showMediaSession: false,\n  locale: LOCALE.en_US,\n  responsive: true,\n  icon: DEFAULT_ICON,\n  quietUpdate: false,\n  // 更新后的播放列表如果有当前正在播放的歌曲不打断当前播放状态\n  mobileMediaQuery: MEDIA_QUERY.MOBILE,\n  // 音频暂停播放 淡入淡出\n  volumeFade: {\n    fadeIn: 0,\n    fadeOut: 0\n  },\n  restartCurrentOnPrev: false,\n  // https://github.com/SortableJS/Sortable#options\n  sortableOptions: {}\n});\n\n_defineProperty(ReactJkMusicPlayer, \"propTypes\", PROP_TYPES);\n\nexport { ReactJkMusicPlayer as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}