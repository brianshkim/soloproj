{"ast":null,"code":"import _slicedToArray from\"/home/brian/w15/practice-for-week-15-react-redux-authenticate-me-long-practice-main/authenticate-me/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useDispatch}from'react-redux';import*as sessionActions from'../../store/session';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileButton(_ref){var user=_ref.user;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var openMenu=function openMenu(){if(showMenu)return;setShowMenu(true);};useEffect(function(){if(!showMenu)return;var closeMenu=function closeMenu(){setShowMenu(false);};document.addEventListener('click',closeMenu);return function(){return document.removeEventListener(\"click\",closeMenu);};},[showMenu]);var logout=function logout(e){e.preventDefault();dispatch(sessionActions.logout());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:openMenu,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle\"})}),showMenu&&/*#__PURE__*/_jsxs(\"ul\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:user.username}),/*#__PURE__*/_jsx(\"li\",{children:user.email}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Log Out\"})})]})]});}export default ProfileButton;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","sessionActions","ProfileButton","user","dispatch","showMenu","setShowMenu","openMenu","closeMenu","document","addEventListener","removeEventListener","logout","e","preventDefault","username","email"],"sources":["/home/brian/w15/practice-for-week-15-react-redux-authenticate-me-long-practice-main/authenticate-me/frontend/src/components/Navigation/ProfileButton.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport * as sessionActions from '../../store/session';\n\nfunction ProfileButton({ user }) {\n  const dispatch = useDispatch();\n  const [showMenu, setShowMenu] = useState(false);\n\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n\n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = () => {\n      setShowMenu(false);\n    };\n\n    document.addEventListener('click', closeMenu);\n\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const logout = (e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n  };\n\n  return (\n    <>\n      <button onClick={openMenu}>\n        <i className=\"fas fa-user-circle\" />\n      </button>\n      {showMenu && (\n        <ul className=\"profile-dropdown\">\n          <li>{user.username}</li>\n          <li>{user.email}</li>\n          <li>\n            <button onClick={logout}>Log Out</button>\n          </li>\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default ProfileButton;\n"],"mappings":"kMAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,GAAKC,eAAZ,KAAgC,qBAAhC,C,6IAEA,QAASC,cAAT,MAAiC,IAARC,KAAQ,MAARA,IAAQ,CAC/B,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,cAAgCF,QAAQ,CAAC,KAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,GAAIF,QAAJ,CAAc,OACdC,WAAW,CAAC,IAAD,CAAX,CACD,CAHD,CAKAP,SAAS,CAAC,UAAM,CACd,GAAI,CAACM,QAAL,CAAe,OAEf,GAAMG,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtBF,WAAW,CAAC,KAAD,CAAX,CACD,CAFD,CAIAG,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCF,SAAnC,EAEA,MAAO,kBAAMC,SAAQ,CAACE,mBAAT,CAA6B,OAA7B,CAAsCH,SAAtC,CAAN,EAAP,CACD,CAVQ,CAUN,CAACH,QAAD,CAVM,CAAT,CAYA,GAAMO,OAAM,CAAG,QAATA,OAAS,CAACC,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACAV,QAAQ,CAACH,cAAc,CAACW,MAAf,EAAD,CAAR,CACD,CAHD,CAKA,mBACE,wCACE,eAAQ,OAAO,CAAEL,QAAjB,uBACE,UAAG,SAAS,CAAC,oBAAb,EADF,EADF,CAIGF,QAAQ,eACP,YAAI,SAAS,CAAC,kBAAd,wBACE,oBAAKF,IAAI,CAACY,QAAV,EADF,cAEE,oBAAKZ,IAAI,CAACa,KAAV,EAFF,cAGE,iCACE,eAAQ,OAAO,CAAEJ,MAAjB,qBADF,EAHF,GALJ,GADF,CAgBD,CAED,cAAeV,cAAf"},"metadata":{},"sourceType":"module"}