{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DatabaseError = exports.serialize = exports.parse = void 0;\n\nconst messages_1 = require(\"./messages\");\n\nObject.defineProperty(exports, \"DatabaseError\", {\n  enumerable: true,\n  get: function () {\n    return messages_1.DatabaseError;\n  }\n});\n\nconst serializer_1 = require(\"./serializer\");\n\nObject.defineProperty(exports, \"serialize\", {\n  enumerable: true,\n  get: function () {\n    return serializer_1.serialize;\n  }\n});\n\nconst parser_1 = require(\"./parser\");\n\nfunction parse(stream, callback) {\n  const parser = new parser_1.Parser();\n  stream.on('data', buffer => parser.parse(buffer, callback));\n  return new Promise(resolve => stream.on('end', () => resolve()));\n}\n\nexports.parse = parse;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAUoBA;EAAAC;EAAAC;IAAA,OAVKC,wBAUL;EAVkB;AAUlB;;AATpB;;AASSH;EAAAC;EAAAC;IAAA,OATAE,sBASA;EATS;AAST;;AART;;AAEA,SAAgBC,KAAhB,CAAsBC,MAAtB,EAAqDC,QAArD,EAA8E;EAC5E,MAAMC,MAAM,GAAG,IAAIC,eAAJ,EAAf;EACAH,MAAM,CAACI,EAAP,CAAU,MAAV,EAAmBC,MAAD,IAAoBH,MAAM,CAACH,KAAP,CAAaM,MAAb,EAAqBJ,QAArB,CAAtC;EACA,OAAO,IAAIK,OAAJ,CAAaC,OAAD,IAAaP,MAAM,CAACI,EAAP,CAAU,KAAV,EAAiB,MAAMG,OAAO,EAA9B,CAAzB,CAAP;AACD;;AAJDC","names":["Object","enumerable","get","messages_1","serializer_1","parse","stream","callback","parser","parser_1","on","buffer","Promise","resolve","exports"],"sources":["/home/brian/node_modules/pg-protocol/src/index.ts"],"sourcesContent":["import { BackendMessage, DatabaseError } from './messages'\nimport { serialize } from './serializer'\nimport { Parser, MessageCallback } from './parser'\n\nexport function parse(stream: NodeJS.ReadableStream, callback: MessageCallback): Promise<void> {\n  const parser = new Parser()\n  stream.on('data', (buffer: Buffer) => parser.parse(buffer, callback))\n  return new Promise((resolve) => stream.on('end', () => resolve()))\n}\n\nexport { serialize, DatabaseError }\n"]},"metadata":{},"sourceType":"script"}