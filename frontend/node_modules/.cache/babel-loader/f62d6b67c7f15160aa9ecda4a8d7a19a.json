{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n} // use by https://github.com/ustbhuangyi/lyric-parser\n\n\nvar timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g;\nvar STATE_PAUSE = 0;\nvar STATE_PLAYING = 1;\nvar tagRegMap = {\n  title: 'ti',\n  artist: 'ar',\n  album: 'al',\n  offset: 'offset',\n  by: 'by'\n};\n\nvar Lyric = /*#__PURE__*/function () {\n  function Lyric(lrc) {\n    var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n    _classCallCheck(this, Lyric);\n\n    this.lrc = lrc;\n    this.tags = {};\n    this.lines = [];\n    this.handler = handler;\n    this.state = STATE_PAUSE;\n    this.curLine = 0;\n\n    this._init();\n  }\n\n  _createClass(Lyric, [{\n    key: \"_init\",\n    value: function _init() {\n      this._initTag();\n\n      this._initLines();\n    }\n  }, {\n    key: \"_initTag\",\n    value: function _initTag() {\n      for (var tag in tagRegMap) {\n        var matches = this.lrc.match(new RegExp(\"\\\\[\".concat(tagRegMap[tag], \":([^\\\\]]*)]\"), 'i'));\n        this.tags[tag] = matches && matches[1] || '';\n      }\n    }\n  }, {\n    key: \"_initLines\",\n    value: function _initLines() {\n      var lines = this.lrc.split('\\n');\n      var offset = parseInt(this.tags.offset, 10) || 0;\n\n      for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        var result = timeExp.exec(line);\n\n        if (result) {\n          var txt = line.replace(timeExp, '').trim();\n\n          if (txt) {\n            this.lines.push({\n              time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10 + offset,\n              txt: txt\n            });\n          }\n        }\n      }\n\n      this.lines.sort(function (a, b) {\n        return a.time - b.time;\n      });\n    }\n  }, {\n    key: \"_findCurNum\",\n    value: function _findCurNum(time) {\n      for (var i = 0; i < this.lines.length; i++) {\n        if (time <= this.lines[i].time) {\n          return i;\n        }\n      }\n\n      return this.lines.length - 1;\n    }\n  }, {\n    key: \"_callHandler\",\n    value: function _callHandler(i) {\n      if (i < 0) {\n        return;\n      }\n\n      this.handler({\n        txt: this.lines[i].txt,\n        lineNum: i\n      });\n    }\n  }, {\n    key: \"_playRest\",\n    value: function _playRest() {\n      var _this = this;\n\n      var line = this.lines[this.curNum];\n      var delay = line.time - (+new Date() - this.startStamp);\n      this.timer = setTimeout(function () {\n        _this._callHandler(_this.curNum++);\n\n        if (_this.curNum < _this.lines.length && _this.state === STATE_PLAYING) {\n          _this._playRest();\n        }\n      }, delay);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var startTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var skipLast = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (!this.lines.length) {\n        return;\n      }\n\n      this.state = STATE_PLAYING;\n      this.curNum = this._findCurNum(startTime);\n      this.startStamp = +new Date() - startTime;\n\n      if (!skipLast) {\n        this._callHandler(this.curNum - 1);\n      }\n\n      if (this.curNum < this.lines.length) {\n        clearTimeout(this.timer);\n\n        this._playRest();\n      }\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      var now = +new Date();\n\n      if (this.state === STATE_PLAYING) {\n        this.stop();\n        this.pauseStamp = now;\n      } else {\n        this.state = STATE_PLAYING;\n        this.play((this.pauseStamp || now) - (this.startStamp || now), true);\n        this.pauseStamp = 0;\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.state = STATE_PAUSE;\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(offset) {\n      this.play(offset);\n    }\n  }]);\n\n  return Lyric;\n}();\n\nexport { Lyric as default };","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","timeExp","STATE_PAUSE","STATE_PLAYING","tagRegMap","title","artist","album","offset","by","Lyric","lrc","handler","arguments","undefined","tags","lines","state","curLine","_init","value","_initTag","_initLines","tag","matches","match","RegExp","concat","split","parseInt","line","result","exec","txt","replace","trim","push","time","sort","a","b","_findCurNum","_callHandler","lineNum","_playRest","_this","curNum","delay","Date","startStamp","timer","setTimeout","play","startTime","skipLast","clearTimeout","togglePlay","now","stop","pauseStamp","seek","default"],"sources":["/home/brian/w15/practice-for-week-15-react-redux-authenticate-me-long-practice-main/authenticate-me/frontend/node_modules/react-jinke-music-player/es/lyric.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// use by https://github.com/ustbhuangyi/lyric-parser\nvar timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g;\nvar STATE_PAUSE = 0;\nvar STATE_PLAYING = 1;\nvar tagRegMap = {\n  title: 'ti',\n  artist: 'ar',\n  album: 'al',\n  offset: 'offset',\n  by: 'by'\n};\n\nvar Lyric = /*#__PURE__*/function () {\n  function Lyric(lrc) {\n    var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n    _classCallCheck(this, Lyric);\n\n    this.lrc = lrc;\n    this.tags = {};\n    this.lines = [];\n    this.handler = handler;\n    this.state = STATE_PAUSE;\n    this.curLine = 0;\n\n    this._init();\n  }\n\n  _createClass(Lyric, [{\n    key: \"_init\",\n    value: function _init() {\n      this._initTag();\n\n      this._initLines();\n    }\n  }, {\n    key: \"_initTag\",\n    value: function _initTag() {\n      for (var tag in tagRegMap) {\n        var matches = this.lrc.match(new RegExp(\"\\\\[\".concat(tagRegMap[tag], \":([^\\\\]]*)]\"), 'i'));\n        this.tags[tag] = matches && matches[1] || '';\n      }\n    }\n  }, {\n    key: \"_initLines\",\n    value: function _initLines() {\n      var lines = this.lrc.split('\\n');\n      var offset = parseInt(this.tags.offset, 10) || 0;\n\n      for (var i = 0; i < lines.length; i++) {\n        var line = lines[i];\n        var result = timeExp.exec(line);\n\n        if (result) {\n          var txt = line.replace(timeExp, '').trim();\n\n          if (txt) {\n            this.lines.push({\n              time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10 + offset,\n              txt: txt\n            });\n          }\n        }\n      }\n\n      this.lines.sort(function (a, b) {\n        return a.time - b.time;\n      });\n    }\n  }, {\n    key: \"_findCurNum\",\n    value: function _findCurNum(time) {\n      for (var i = 0; i < this.lines.length; i++) {\n        if (time <= this.lines[i].time) {\n          return i;\n        }\n      }\n\n      return this.lines.length - 1;\n    }\n  }, {\n    key: \"_callHandler\",\n    value: function _callHandler(i) {\n      if (i < 0) {\n        return;\n      }\n\n      this.handler({\n        txt: this.lines[i].txt,\n        lineNum: i\n      });\n    }\n  }, {\n    key: \"_playRest\",\n    value: function _playRest() {\n      var _this = this;\n\n      var line = this.lines[this.curNum];\n      var delay = line.time - (+new Date() - this.startStamp);\n      this.timer = setTimeout(function () {\n        _this._callHandler(_this.curNum++);\n\n        if (_this.curNum < _this.lines.length && _this.state === STATE_PLAYING) {\n          _this._playRest();\n        }\n      }, delay);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var startTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var skipLast = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (!this.lines.length) {\n        return;\n      }\n\n      this.state = STATE_PLAYING;\n      this.curNum = this._findCurNum(startTime);\n      this.startStamp = +new Date() - startTime;\n\n      if (!skipLast) {\n        this._callHandler(this.curNum - 1);\n      }\n\n      if (this.curNum < this.lines.length) {\n        clearTimeout(this.timer);\n\n        this._playRest();\n      }\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      var now = +new Date();\n\n      if (this.state === STATE_PLAYING) {\n        this.stop();\n        this.pauseStamp = now;\n      } else {\n        this.state = STATE_PLAYING;\n        this.play((this.pauseStamp || now) - (this.startStamp || now), true);\n        this.pauseStamp = 0;\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.state = STATE_PAUSE;\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(offset) {\n      this.play(offset);\n    }\n  }]);\n\n  return Lyric;\n}();\n\nexport { Lyric as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}